[env]
DEFMT_LOG = "debug"

[build]
target = "thumbv8m.main-none-eabihf"

[target.thumbv8m.main-none-eabihf]
rustflags = [
    "-C", "link-arg=--nmagic",
    "-C", "link-arg=-Tlink.x",
    "-C", "link-arg=-Tdefmt.x",
    "-C", "target-cpu=cortex-m33",
]

# The Copper RP2350 reference board ships with an onboard CMSIS-DAP probe.
# Using probe-rs keeps flashing/debug consistent with the documentation.
runner = "probe-rs run --chip RP235x --protocol swd"
