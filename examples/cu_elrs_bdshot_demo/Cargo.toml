[package]
name = "cu-elrs-bdshot-demo"
description = "Example Copper app driving BDShot ESCs from an ELRS throttle command on the RP2350 reference board."
version.workspace = true
authors.workspace = true
edition.workspace = true
license.workspace = true
keywords.workspace = true
categories.workspace = true
homepage.workspace = true
repository.workspace = true

publish = false
[package.metadata.copper]
embedded_only = true
embedded_config = "examples/cu_elrs_bdshot_demo/.cargo/config.toml"
embedded_target = "thumbv8m.main-none-eabihf"

[dependencies]
buddy_system_allocator = { workspace = true, default-features = false, features = [
  "use_spin",
] }
cu29 = { path = "../../core/cu29", default-features = false, features = [
  "defmt",
  "log-level-debug",
  "textlogs",
] }
cu-bdshot = { path = "../../components/bridges/cu_bdshot", default-features = false, features = [
  "rp2350",
] }
cu-crsf = { path = "../../components/bridges/cu_crsf", default-features = false, features = [
  "defmt",
  "alloc",
  "embedded-io-07",
] }
cu-sdlogger = { path = "../../components/libs/cu_sdlogger", default-features = false, features = [
  "eh1",
] }
cortex-m-rt = { workspace = true }
defmt = { workspace = true }
defmt-rtt = { workspace = true }
embedded-hal = "1.0"
embedded-hal-bus = "0.3"
embedded-io-07 = { package = "embedded-io", version = "0.7.1", default-features = false }
embedded-sdmmc = { version = "0.9", features = [
  "defmt-log",
], default-features = false }
panic-probe = { workspace = true, features = ["defmt", "print-defmt"] }
rp235x-hal = { workspace = true, features = ["rt", "critical-section-impl"] }
spin = { workspace = true }
bincode = { workspace = true, features = ["alloc", "derive"] }
serde = { workspace = true }

[features]
default = []

[package.metadata.cargo-shear]
ignored = ["serde", "bincode"]
