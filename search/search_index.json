{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Copper Documentation","text":"<p>Copper is a deterministic robotics runtime written in Rust. Think of it as a \"game engine for robots\": describe your system declaratively and Copper will create a custom scheduler and run it deterministically from cloud simulation down to embedded controllers.</p> <p>Why Copper</p> <ul> <li>\u26a1 Sub-microsecond latency with a zero-alloc, data-oriented runtime. Comparative benchmarks with ROS2 and others here</li> <li>\u23f1\ufe0f Deterministic replay for debugging and certification.</li> <li>\ud83e\udde0 Interoperable with ROS 2 via bridges.</li> <li>\ud83e\udeb6 Runs anywhere from x86 servers to bare metal.</li> </ul> <p>Ready to get started? Check out the README or jump into Build and Deploy a Copper Application.</p>"},{"location":"#start-here","title":"Start Here","text":"Topic What you'll get \ud83e\udded Copper Application Overview A minimal task graph and runtime walk through. \ud83d\ude80 Build and Deploy a Copper Application Project structure, build artifacts, and deployment flow. \ud83d\udccb Project Templates Scaffold a new Copper project quickly. \u2699\ufe0f Copper Configuration file Reference The RON schema for tasks, messages, and connections. Copper Runtime Overview Core runtime concepts and SDK capabilities. \ud83d\uddfa\ufe0f Copper Configuration and Mission Visualization Render task graphs and mission definitions. \ud83e\udded Copper Tasks lifecycle overview How tasks run, pause, and serialize state. \ud83e\udde9 Modular Configuration Split big configs into reusable chunks. Task Automation with just Repeatable task helpers across the repo. \ud83c\udf09 Copper Bridge concept Link Copper to external systems and protocols. \ud83e\uddf0 Resources Wire hardware and shared services into tasks and bridges. \ud83d\udd27 Baremetal Development Running Copper as a bare-metal runtime. \ud83d\udda5\ufe0f Supported Platforms Desktop, mobile, and embedded targets. \ud83d\udca1 Contribution Ideas Larger ideas we would love to collaborate on."},{"location":"#visual-overview","title":"Visual Overview","text":"Task Lifecycle Build and Deploy Missions"},{"location":"#whats-new","title":"What's New","text":"<ul> <li>\ud83d\udcdd Copper Release Notes</li> </ul>"},{"location":"#resources","title":"Resources","text":"<ul> <li>\ud83e\uddf1 List of available components</li> <li>SDK Features</li> <li>FAQ</li> <li>Roadmap</li> <li>\ud83d\udcda API Documentation on docs.rs</li> <li>\ud83e\uddea API</li> <li>\ud83d\udce6 Main crate on crates.io</li> <li>\ud83d\udcbb Source code on GitHub</li> <li>\ud83d\udee0\ufe0f Contributing guide</li> </ul>"},{"location":"Available-Components/","title":"Available Components","text":"Category Type Description Crate Name std no_std Board Bundles Flight Controller MicoAir H743 HAL bundle <code>cu-micoairh743</code> \u274c \u2705 Sensors Lidar Velodyne/Ouster VLP16 <code>cu-vlp16</code> \u2705 \u274c Lidar Hesai/XT32 <code>cu-hesai</code> \u2705 \u274c Lidar N/A Livox Tele15 <code>cu-livox</code> \u2705 \u274c Video Camera Video4Linux <code>cu-v4l</code> \u2705 \u274c Video Camera GStreamer appsink source <code>cu-gstreamer</code> \u2705 \u274c IMU WitMotion WT901 <code>cu-wt901</code> \u2705 \u274c IMU N/A Bosch BMI088 6-axis IMU <code>cu-bmi088</code> \u2705 \u2705 IMU N/A InvenSense MPU9250 IMU <code>cu-mpu9250</code> \u2705 \u2705 ADC/Position ADS 7883 3MPSPS SPI ADC <code>cu-ads7883</code> \u2705 \u274c Encoder Generic Directional Wheel encoder <code>cu-rp-encoder</code> \u2705 \u274c Actuators GPIO Raspberry Pi GPIO <code>cu-rp-gpio</code> \u2705 \u274c Servo Lewansoul Servo Bus (LX-16A, etc.) <code>cu-lewansoul</code> \u2705 \u274c DC Motor Driver Half-H Driver for CD Motors <code>cu-rp-sn754410</code> \u2705 \u274c Algorithms Attitude Estimation N/A AHRS (attitude estimation) <code>cu-ahrs</code> \u2705 \u2705 PID Controller PID Controller <code>cu-pid</code> \u2705 \u2705 Time Alignment N/A Message time aligner <code>cu-aligner</code> \u2705 \u274c AprilTag Detection N/A AprilTag detection and pose <code>cu-apriltag</code> \u2705 \u274c Image Processing N/A Dynamic image thresholding <code>cu-dynthreshold</code> \u2705 \u274c Rate Limiter N/A Rate limiting task <code>cu-ratelimit</code> \u2705 \u274c Monitors TUI Monitor Console based monitor <code>cu-consolemon</code> \u2705 \u274c Log Monitor N/A Lightweight log monitor <code>cu-logmon</code> \u2705 \u2705 Middleware IPC Zenoh sink <code>cu-zenoh-sink</code> \u2705 \u274c IPC Iceroryx2 sourceIceroryx2 sink <code>cu-iceoryx2-src</code><code>cu-iceoryx2-sink</code> \u2705 \u274c ROS2 (Humble+) ROS2 sink over Zenoh <code>cu-zenoh-ros-sink</code> \u2705 \u274c Aero IPC (MSP) MSP bridge (serial) <code>cu-msp-bridge</code> \u2705 \u2705 Bridges ELRS / CRSF Radio ELRS/CRSF bridge <code>cu-crsf</code> \u2705 \u2705 Bidirectional DSHOT ESCs BDShot ESC bridge <code>cu-bdshot</code> \u274c \u2705 <p>Legend: \u2705 supported, \u274c not supported/desktop-only.</p>"},{"location":"Baremetal-Development/","title":"Baremetal Development with Copper","text":"<p>Copper can also be deployed on baremetal ie. <code>no-std</code> on an MCU.</p> <p>The main advantage is that algorithms can be written to be usable on both normal (on an OS) and baremetal. The underlying logging format is also the same so you can extract the logs, replay in simulation what happened on the device, and debug with the comfort of a full local environment development and debugger.</p>"},{"location":"Baremetal-Development/#getting-started","title":"Getting Started","text":""},{"location":"Baremetal-Development/#hardware-reference-platform","title":"Hardware (reference platform)","text":"<p>We chose a beefed-up RP2350B-based board as a reference platform.  It is very well-documented, relatively cheap, and a lot of peripherals and accessories are available.</p> <p>Overview:</p> <p></p> <p>Note: we are not affiliated with any of those vendors or HW manufacturers. We just like them.</p> <p>If you want to receive the whole kit ready to be deployed with Copper: all soldered with the debug probe,  a debug cable and tested. We can send you one: Ping us directly at info@copper-robotics.com.</p>"},{"location":"Baremetal-Development/#base-board","title":"Base board","text":"<p>It is a <code>Pimoroni Pico plus 2W</code>.</p> <p></p> <p>Out of the box it has: - Powered by RP2350B (Dual Arm Cortex M33 running at up to 150MHz with 520KB of SRAM) - 16MB of QSPI flash supporting XiP - 8MB of PSRAM - USB-C connector for power, programming, and data transfer - Qw/ST (Qwiic/STEMMA QT) compatible I2C connector - 3 pin debug connector (JST-SH) - Reset and BOOT buttons (the BOOT button can also be used as a user button) - User LED indicator (addressable through the wifi chip though) - On-board 3V3 regulator (max regulator current output 600mA) - Input voltage range 3V - 5.5V </p> <p>You can buy it here: https://www.adafruit.com/product/6243</p> <p>From the UK here: https://shop.pimoroni.com/products/pimoroni-pico-plus-2-w?variant=42182811942995</p> <p>If you don't care about the Wi-Fi, you can opt for a simple plus 2: https://shop.pimoroni.com/products/pimoroni-pico-plus-2?variant=42092668289107</p>"},{"location":"Baremetal-Development/#extension-boards-to-get-a-sdcard-slot-to-be-able-to-log-with-copper","title":"Extension boards to get a sdcard slot (to be able to log with Copper).","text":"<p>Adafruit PiCowBell Camera Breakout (Here the 160 deg wide lens version): https://www.adafruit.com/product/5947</p> <p>If you don't care about a camera: Adafruit PiCowbell Adalogger for Pico - MicroSD, RTC &amp; STEMMA QT https://www.adafruit.com/product/5703a</p> <p>Or a simple, more compact alternative a break-out board just for the SD Card:</p> <p></p>"},{"location":"Baremetal-Development/#adafruit-proto-doubler-optional","title":"Adafruit Proto Doubler (optional)","text":"<p>This is a very nice addition for a bench setup. It allows you to connect the extension boards side by side with an extra row of pins you can use directly and some prototyping space underneath.</p> <p>https://www.adafruit.com/product/5906</p>"},{"location":"Baremetal-Development/#debug-probe-hw","title":"Debug Probe HW","text":"<p>It is highly recommended to use a debug probe: you'll be able to see the Copper structured logs in real-time,  deploy from <code>cargo run</code> without having to reset the probe, set breakpoints etc...</p> <p>We recommend a CMSIS-DAP compliant debugger like the DAPLink-based ones: https://developer.arm.com/documentation/101451/0100/About-CMSIS-DAP because it works right out of the box with <code>probe-rs</code>, a Rust embedded probe tooling support.</p> <p>We had success with this one: https://github.com/WeActStudio/WeActStudio.MiniDebugger</p> <p>It is compact, with USB-C (most of the commercial probes are like tanks with USB-A), can provide a 5V power supply, and is straightforward to use.</p> <p>Be sure to buy the DapLink Version (not the ST-Link one).</p> <p></p>"},{"location":"Baremetal-Development/#debug-probe-cable-and-setup","title":"Debug probe cable and setup.","text":"<p>There are 2 connectors to connect:  - power  - debug</p>"},{"location":"Baremetal-Development/#power","title":"Power","text":"<p>This allows you to just have to plug in a single USB-C connector on the probe side and the board will power itself up.</p> <p></p> <p>This is the 5V connection on the probe side (see the picture above). You need to connect that to the VB (VBUS) pin on the board side. (NOT VS).</p>"},{"location":"Baremetal-Development/#debug","title":"Debug","text":"<p>You now have to connect the SWDIO SWCLK and GND pins on the probe side to the SWDIO SWCLK and GND pins on the board side. Ideally, you want to crimp a JST-SH connector to the probe wires to be able to plug it directly into the board.</p> <p> </p>"},{"location":"Baremetal-Development/#extra-leds-optional","title":"Extra LEDs (optional)","text":"<p>You can, for example, use some already made LED + resistor called lilypads: https://shop.pimoroni.com/en-us/products/lilypad-led-5pcs</p> <p></p> <p>Here on plugged between pin 20 and GND. Ready to go for the rp2350 copper example.</p> <p></p>"},{"location":"Baremetal-Development/#software","title":"Software","text":""},{"location":"Baremetal-Development/#quick-sanity-check","title":"Quick sanity check","text":"<p>Plug in your debugger and run <code>dmesg</code>, check to see if the board is detected.</p> <p></p> <p>Install probe-rs: <code>cargo install probe-rs-tools --locked</code></p> <p>Now check with <code>probe-rs</code> to see if the probe can connect to the board.</p> <p>First with a <code>probe-rs list</code> to see if the probe is detected and accessible. Then with <code>probe-rs info --protocol swd</code> to dump the target debug information.</p> <p>It should look like this:</p> <p></p> <p>If not, check if your user has the right permissions to access the device. For example, you might want to add raw access to the USB devices with:</p> <pre><code>$ cat /etc/udev/rules.d/60-cmsis-dap.rules\n\n# ARM mbed CMSIS-DAP (WeAct MiniDebugger DAPLink) VID:PID 0d28:0204\nSUBSYSTEM==\"usb\", ATTR{idVendor}==\"0d28\", ATTR{idProduct}==\"0204\", MODE=\"0660\", TAG+=\"uaccess\"\nSUBSYSTEM==\"hidraw\", ATTRS{idVendor}==\"0d28\", ATTRS{idProduct}==\"0204\", MODE=\"0660\", TAG+=\"uaccess\"\n</code></pre> <p>Also, double-check your cable.</p>"},{"location":"Baremetal-Development/#run-the-plain-copper-example","title":"Run the plain Copper example.","text":"<p>In <code>/examples/cu_rp2350_skeleton</code> you can find a fully working example that will just flip the GPIO 21 and log the result on the SD card.</p> <p>First, plug an SD card on your computer and run the formatting script on it: <code>support/mk_cu29_sdcard.sh &lt;path to sdcard block device&gt;</code> </p> <p>You need <code>wipefs</code> and <code>sgdisk</code> installed for that (on Arch Linux, <code>sudo pacman -S util-linux gptfdisk</code>)</p> <p>TRIPLE-CHECK THAT PATH TO THE SD CARD BLOCK DEVICE IS CORRECT, it will wipe out any disk you point it to.</p> <p>Here I monitor dmesg to see on which block device the SD card reader shows up and format it:</p> <p></p> <p>You can also run into user rights issues, this one you can sudo out of it <code>sudo support/mk_cu29_sdcard.sh &lt;YOUR DEVICE&gt;</code></p>"},{"location":"Baremetal-Development/#run-the-copper-example-with-the-debug-probe","title":"Run the Copper example with the debug probe.","text":"<p>go to <code>/examples/cu_rp2350_skeleton</code> and run <code>cargo run-arm</code></p> <p>You should see the Copper text logs streaming right through the debugger. With it finding the SD card and starting to log on it. The LED on GPIO 21 should blink.</p> <p></p>"},{"location":"Baremetal-Development/#extract-the-logs","title":"Extract the logs.","text":"<p>If you want to see the tasks data logs (copperlists), directly dump the partition to a file (basically recreating a slab):</p> <pre><code>$ # here substiture with your own device, probably the same as the one you formatted the sdcard with\n$ pv /dev/sdb2 &gt; logs/blinky_0.copper\n</code></pre> <p>Then you can dump the logs with exactly like a standard Copper log file, note we made also a shortcut for the log reader: Note: no _0 suffix here, the log reader figures out the slab number automatically.</p> <pre><code>$ cargo run-logreader extract-copperlists logs/blinky.copper\n</code></pre>"},{"location":"Baremetal-Development/#resim","title":"Resim","text":"<p>If you check the src/tasks.rs file, you'll see that the tasks are just standard Copper tasks. You can resimulate the log the same way as any other Copper programs (+/- managing the std/no-std variations), check the <code>examples</code> folder for resim examples.</p>"},{"location":"Baremetal-Development/#caveats","title":"Caveats","text":"<p>The logs don't get closed correctly, it should not prevent you from reading them but it is annoying. You can implement a button to drop the Copper instance and force the correct closure of the logs.</p>"},{"location":"Benchmarks/","title":"Benchmarks","text":"<p>Those are the results from the Copper Caterpillar benchmark, stress testing the latency overhead of robotics middleware.</p> <p>Lower is better. LOG SCALE</p> <p></p> <p>Conditions: if possible the framework needs to deterministically log every single task output.</p>"},{"location":"Benchmarks/#copper-fully-deterministic","title":"Copper [Fully deterministic]","text":"<p>Vanilla Copper Application and config.</p> <p>Benchmark code</p> <pre><code>Task          Min           Max         Mean       Stddev     Jitter      Max Jitter\nsrc           9 ns         23.041 \u00b5s    13 ns      19 ns      5 ns        23.031 \u00b5s\nct-0          0 ns         16.193 \u00b5s     6 ns      13 ns      4 ns        16.193 \u00b5s\ngpio-0        0 ns         34.756 \u00b5s     6 ns      14 ns      4 ns        34.755 \u00b5s\nct-1          0 ns         35.496 \u00b5s     6 ns      16 ns      4 ns        35.496 \u00b5s\ngpio-1        0 ns         15.233 \u00b5s     6 ns      11 ns      4 ns        15.233 \u00b5s\nct-2          0 ns         20.621 \u00b5s     6 ns      15 ns      4 ns        20.611 \u00b5s\ngpio-2        0 ns         14.514 \u00b5s     6 ns      10 ns      4 ns        14.514 \u00b5s\nct-3          0 ns         26.080 \u00b5s     6 ns      15 ns      4 ns        26.071 \u00b5s\ngpio-3        0 ns          7.008 \u00b5s     6 ns       9 ns      4 ns         6.998 \u00b5s\nct-4          0 ns         33.777 \u00b5s     6 ns      16 ns      4 ns        33.776 \u00b5s\ngpio-4        0 ns         14.244 \u00b5s     6 ns      10 ns      4 ns        14.244 \u00b5s\nct-5          0 ns         18.352 \u00b5s     6 ns      15 ns      4 ns        18.342 \u00b5s\ngpio-5        0 ns         17.163 \u00b5s     6 ns      12 ns      4 ns        17.153 \u00b5s\nct-6          0 ns         34.556 \u00b5s     6 ns      14 ns      4 ns        34.556 \u00b5s\ngpio-6        0 ns         16.063 \u00b5s     6 ns      11 ns      4 ns        16.063 \u00b5s\nct-7          0 ns         38.995 \u00b5s     6 ns      17 ns      4 ns        38.986 \u00b5s\ngpio-7        0 ns         28.249 \u00b5s     6 ns      14 ns      4 ns        28.240 \u00b5s\nEnd2End     200 ns         39.215 \u00b5s   218 ns      73 ns      7 ns        38.995 \u00b5s\n</code></pre> <p>Ran with:</p> <pre><code>cd examples/cu_caterpillar\ncargo build --profile screaming\nsudo chrt -f 80 ../../target/screaming/cu-caterpillar\n</code></pre> <p>Note: at that scale we are measuring how much it takes to ... measure time. Copper has basically 0 overhead lockless comms.</p>"},{"location":"Benchmarks/#ros2-jazzy-non-deterministic-logging","title":"ROS2 Jazzy [Non-deterministic logging]","text":"<p>Vanilla out of the box config.</p> <p>Benchmark code</p> <pre><code>Task            Min         Max        Mean      Stddev      Jitter  Max Jitter\nsrc        9.640 us  109.382 us   39.887 us   14.000 us   12.896 us   73.961 us\nct-0      33.870 us  200.652 us  118.628 us   39.627 us   37.286 us  145.231 us\ngpio-0    36.481 us  179.183 us  112.441 us   36.312 us   34.283 us  112.872 us\nct-1      38.330 us  195.153 us  114.098 us   34.291 us   32.761 us  117.882 us\ngpio-1    33.331 us  186.943 us  115.215 us   34.760 us   32.096 us  119.911 us\nct-2      49.851 us  187.203 us  127.321 us   37.011 us   34.523 us  123.021 us\ngpio-2    49.080 us  227.773 us  116.513 us   33.809 us   32.018 us  104.222 us\nct-3      53.601 us  201.662 us  117.278 us   34.520 us   32.005 us  112.642 us\ngpio-3    44.470 us  165.552 us  104.015 us   27.142 us   24.574 us   95.052 us\nct-4      53.880 us  171.622 us  113.354 us   30.828 us   26.051 us  100.452 us\ngpio-4    45.360 us  157.232 us   98.470 us   25.799 us   24.251 us   75.520 us\nct-5      57.451 us  165.253 us  110.800 us   26.610 us   25.607 us   83.361 us\ngpio-5    43.031 us  189.073 us   98.054 us   29.255 us   26.550 us  122.702 us\nct-6      51.251 us  222.393 us  106.866 us   30.459 us   27.673 us   99.251 us\ngpio-6    35.740 us  156.332 us   94.196 us   29.924 us   26.729 us   92.701 us\nct-7      36.560 us  171.342 us   98.403 us   30.115 us   28.064 us  123.923 us\ngpio-7    40.851 us  140.922 us   94.233 us   23.581 us   23.390 us   86.100 us\nEnd2End  489.747 us    1.363 ms    1.001 ms  266.350 us  244.091 us  770.909 us\n</code></pre>"},{"location":"Benchmarks/#dora-rs-non-deterministic-logging","title":"dora-rs [Non-deterministic logging]","text":"<p>Vanilla out of the box config.</p> <p>Benchmark code</p> <pre><code>Task            Min         Max        Mean     Stddev     Jitter  Max Jitter\nsrc       12.473 us  138.856 us   27.583 us   7.937 us   7.367 us  113.012 us\nct-0      23.050 us  232.393 us   38.916 us   9.426 us   7.147 us  200.693 us\ngpio-0    23.410 us  229.243 us   36.884 us   7.607 us   6.006 us  188.513 us\nct-1      24.230 us  230.773 us   38.940 us   7.827 us   5.925 us  198.453 us\ngpio-1    22.691 us  221.653 us   37.871 us   7.613 us   6.271 us  188.073 us\nct-2      25.291 us  231.763 us   40.015 us   7.644 us   6.093 us  189.803 us\ngpio-2    21.540 us  185.332 us   38.238 us   8.569 us   6.510 us  145.932 us\nct-3      25.751 us  186.022 us   40.595 us   8.568 us   6.522 us  140.741 us\ngpio-3    22.191 us  192.583 us   38.282 us   9.192 us   6.693 us  158.373 us\nct-4      24.830 us  198.073 us   40.413 us   9.129 us   6.601 us  162.022 us\ngpio-4    22.541 us  191.303 us   37.903 us   8.023 us   6.480 us  157.532 us\nct-5      24.730 us  194.512 us   40.259 us   8.250 us   6.428 us  153.441 us\ngpio-5    21.250 us  182.382 us   37.718 us   8.061 us   6.490 us  152.132 us\nct-6      24.121 us  157.732 us   39.902 us   7.953 us   6.458 us  121.792 us\ngpio-6    20.870 us  139.071 us   37.288 us   7.741 us   6.436 us  108.250 us\nct-7      23.641 us  142.061 us   39.581 us   8.026 us   6.685 us  112.720 us\ngpio-7    22.860 us  395.534 us   38.793 us   9.949 us   6.704 us  352.914 us\nEnd2End  262.093 us  737.848 us  357.926 us  43.518 us  30.188 us  377.285 us\n</code></pre> <p>Testing rig:</p> <pre><code>sal\n    description: Desktop Computer\n    product: System Product Name (SKU)\n    vendor: ASUS\n    version: System Version\n    serial: System Serial Number\n    width: 64 bits\n    capabilities: smbios-3.6.0 dmi-3.6.0 smp vsyscall32\n    configuration: boot=normal chassis=desktop family=To be filled by O.E.M. sku=SKU uuid=8af7f8ed-7fc8-0154-9b83-c87f540199ba\n  *-core\n       description: Motherboard\n       product: ProArt X670E-CREATOR WIFI\n       vendor: ASUSTeK COMPUTER INC.\n       physical id: 0\n       version: Rev 1.xx\n       serial: 220909717800313\n       slot: Default string\n     *-firmware\n          description: BIOS\n          vendor: American Megatrends Inc.\n          physical id: 0\n          version: 3402\n          date: 11/12/2025\n          size: 64KiB\n          capacity: 32MiB\n          capabilities: pci upgrade shadowing cdboot bootselect socketedrom edd int13floppynec int13floppytoshiba int13floppy360 int13floppy1200 int13floppy720 int13floppy2880 int5printscreen int14serial int17printer int10video acpi usb biosbootspecification uefi\n     *-cache:0\n          description: L1 cache\n          physical id: d\n          slot: L1 - Cache\n          size: 1MiB\n          capacity: 1MiB\n          clock: 1GHz (1.0ns)\n          capabilities: pipeline-burst internal write-back unified\n          configuration: level=1\n     *-cache:1\n          description: L2 cache\n          physical id: e\n          slot: L2 - Cache\n          size: 16MiB\n          capacity: 16MiB\n          clock: 1GHz (1.0ns)\n          capabilities: pipeline-burst internal write-back unified\n          configuration: level=2\n     *-cache:2\n          description: L3 cache\n          physical id: f\n          slot: L3 - Cache\n          size: 128MiB\n          capacity: 128MiB\n          clock: 1GHz (1.0ns)\n          capabilities: pipeline-burst internal write-back unified\n          configuration: level=3\n     *-cpu\n          description: CPU\n          product: AMD Ryzen 9 7950X3D 16-Core Processor\n          vendor: Advanced Micro Devices [AMD]\n          physical id: 10\n          bus info: cpu@0\n          version: 25.97.2\n          serial: Unknown\n          slot: AM5\n          size: 5050MHz\n          capacity: 5763MHz\n          width: 64 bits\n          clock: 100MHz\n          capabilities: lm fpu fpu_exception wp vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx mmxext fxsr_opt pdpe1gb rdtscp x86-64 constant_tsc rep_good amd_lbr_v2 nopl xtopology nonstop_tsc cpuid extd_apicid aperfmperf rapl pni pclmulqdq monitor ssse3 fma cx16 sse4_1 sse4_2 movbe popcnt aes xsave avx f16c rdrand lahf_lm cmp_legacy svm extapic cr8_legacy abm sse4a misalignsse 3dnowprefetch osvw ibs skinit wdt tce topoext perfctr_core perfctr_nb bpext perfctr_llc mwaitx cpuid_fault cpb cat_l3 cdp_l3 hw_pstate ssbd mba perfmon_v2 ibrs ibpb stibp ibrs_enhanced vmmcall fsgsbase bmi1 avx2 smep bmi2 erms invpcid cqm rdt_a avx512f avx512dq rdseed adx smap avx512ifma clflushopt clwb avx512cd sha_ni avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves cqm_llc cqm_occup_llc cqm_mbm_total cqm_mbm_local user_shstk avx512_bf16 clzero irperf xsaveerptr rdpru wbnoinvd cppc arat npt lbrv svm_lock nrip_save tsc_scale vmcb_clean flushbyasid decodeassists pausefilter pfthreshold avic vgif x2avic v_spec_ctrl vnmi avx512vbmi umip pku ospke avx512_vbmi2 gfni vaes vpclmulqdq avx512_vnni avx512_bitalg avx512_vpopcntdq rdpid overflow_recov succor smca fsrm flush_l1d amd_lbr_pmc_freeze cpufreq\n          configuration: cores=16 enabledcores=16 microcode=174068236 threads=32\n     *-memory\n          description: System Memory\n          physical id: 13\n          slot: System board or motherboard\n          size: 64GiB\n        *-bank:0\n             description: [empty]\n             product: Unknown\n             vendor: Unknown\n             physical id: 0\n             serial: Unknown\n             slot: DIMM 0\n        *-bank:1\n             description: DIMM Synchronous Unbuffered (Unregistered) 4800 MHz (0.2 ns)\n             product: F5-6000J3040G32G\n             vendor: G Skill Intl\n             physical id: 1\n             serial: A85DF9F9\n             slot: DIMM 1\n             size: 32GiB\n             width: 64 bits\n             clock: 505MHz (2.0ns)\n        *-bank:2\n             description: [empty]\n             product: Unknown\n             vendor: Unknown\n             physical id: 2\n             serial: Unknown\n             slot: DIMM 0\n        *-bank:3\n             description: DIMM Synchronous Unbuffered (Unregistered) 4800 MHz (0.2 ns)\n             product: F5-6000J3040G32G\n             vendor: G Skill Intl\n             physical id: 3\n             serial: 3050EAFB\n             slot: DIMM 1\n             size: 32GiB\n             width: 64 bits\n             clock: 505MHz (2.0ns)\n     *-pci:0\n          description: Host bridge\n          product: Raphael/Granite Ridge Root Complex\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 100\n          bus info: pci@0000:00:00.0\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n        *-generic UNCLAIMED\n             description: IOMMU\n             product: Raphael/Granite Ridge IOMMU\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 0.2\n             bus info: pci@0000:00:00.2\n             version: 00\n             width: 32 bits\n             clock: 33MHz\n             capabilities: msi ht bus_master cap_list\n             configuration: latency=0\n        *-pci:0\n             description: PCI bridge\n             product: Raphael/Granite Ridge GPP Bridge\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 1.1\n             bus info: pci@0000:00:01.1\n             version: 00\n             width: 32 bits\n             clock: 33MHz\n             capabilities: pci pm pciexpress msi ht normal_decode bus_master cap_list\n             configuration: driver=pcieport\n             resources: irq:28 ioport:f000(size=4096) memory:de000000-df0fffff ioport:f000000000(size=34393292800)\n           *-display\n                description: VGA compatible controller\n                product: GA102 [GeForce RTX 3090]\n                vendor: NVIDIA Corporation\n                physical id: 0\n                bus info: pci@0000:01:00.0\n                logical name: /dev/fb0\n                version: a1\n                width: 64 bits\n                clock: 33MHz\n                capabilities: pm msi pciexpress vga_controller bus_master cap_list rom fb\n                configuration: depth=32 driver=nvidia latency=0 mode=3840x2160 resolution=3840,2160 visual=truecolor xres=3840 yres=2160\n                resources: iomemory:f00-eff iomemory:f80-f7f irq:99 memory:de000000-deffffff memory:f000000000-f7ffffffff memory:f800000000-f801ffffff ioport:f000(size=128) memory:df000000-df07ffff\n           *-multimedia\n                description: Audio device\n                product: GA102 High Definition Audio Controller\n                vendor: NVIDIA Corporation\n                physical id: 0.1\n                bus info: pci@0000:01:00.1\n                logical name: card2\n                logical name: /dev/snd/controlC2\n                logical name: /dev/snd/hwC2D0\n                logical name: /dev/snd/pcmC2D3p\n                logical name: /dev/snd/pcmC2D7p\n                logical name: /dev/snd/pcmC2D8p\n                logical name: /dev/snd/pcmC2D9p\n                version: a1\n                width: 32 bits\n                clock: 33MHz\n                capabilities: pm msi pciexpress hda_compatible bus_master cap_list\n                configuration: driver=snd_hda_intel latency=0\n                resources: irq:186 memory:df080000-df083fff\n              *-input:0\n                   product: HDA NVidia HDMI/DP,pcm=3\n                   physical id: 0\n                   logical name: input20\n                   logical name: /dev/input/event20\n              *-input:1\n                   product: HDA NVidia HDMI/DP,pcm=7\n                   physical id: 1\n                   logical name: input21\n                   logical name: /dev/input/event21\n              *-input:2\n                   product: HDA NVidia HDMI/DP,pcm=8\n                   physical id: 2\n                   logical name: input22\n                   logical name: /dev/input/event22\n              *-input:3\n                   product: HDA NVidia HDMI/DP,pcm=9\n                   physical id: 3\n                   logical name: input23\n                   logical name: /dev/input/event23\n        *-pci:1\n             description: PCI bridge\n             product: Raphael/Granite Ridge GPP Bridge\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 1.2\n             bus info: pci@0000:00:01.2\n             version: 00\n             width: 32 bits\n             clock: 33MHz\n             capabilities: pci pm pciexpress msi ht normal_decode bus_master cap_list\n             configuration: driver=pcieport\n             resources: irq:29 memory:df800000-df8fffff\n           *-nvme\n                description: NVMe device\n                product: WD_BLACK SN8100 2000GB\n                vendor: Sandisk Corp\n                physical id: 0\n                bus info: pci@0000:02:00.0\n                logical name: /dev/nvme0\n                version: 830ZRR02\n                serial: 25253J800737\n                width: 64 bits\n                clock: 33MHz\n                capabilities: nvme pm msi pciexpress msix nvm_express bus_master cap_list\n                configuration: driver=nvme latency=0 nqn=nqn.2025-02.com.sandisk:guid:E8238FA6BF53-0001-001B448B42568293 state=live\n                resources: irq:100 memory:df800000-df803fff\n              *-namespace:0\n                   description: NVMe disk\n                   physical id: 0\n                   logical name: hwmon0\n              *-namespace:1\n                   description: NVMe disk\n                   physical id: 2\n                   logical name: /dev/ng0n1\n              *-namespace:2\n                   description: NVMe disk\n                   physical id: 1\n                   bus info: nvme@0:1\n                   logical name: /dev/nvme0n1\n                   size: 1863GiB (2TB)\n                   capabilities: gpt-1.00 partitioned partitioned:gpt\n                   configuration: guid=c9cf6026-c63e-4b55-bcc9-02d56abca24f logicalsectorsize=512 sectorsize=512 wwid=eui.e8238fa6bf530001001b448b42568293\n                 *-volume:0\n                      description: Windows FAT volume\n                      vendor: MSDOS5.0\n                      physical id: 1\n                      bus info: nvme@0:1,1\n                      logical name: /dev/nvme0n1p1\n                      logical name: /boot/efi\n                      version: FAT32\n                      serial: cae7-6b2a\n                      size: 77MiB\n                      capacity: 199MiB\n                      capabilities: boot fat initialized\n                      configuration: FATs=2 filesystem=fat label=EFI mount.fstype=vfat mount.options=rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro name=EFI state=mounted\n                 *-volume:1\n                      description: EXT4 volume\n                      vendor: Linux\n                      physical id: 2\n                      bus info: nvme@0:1,2\n                      logical name: /dev/nvme0n1p2\n                      logical name: /boot\n                      version: 1.0\n                      serial: 9628e19b-ef9c-48d9-a30c-a9e40850abc0\n                      size: 600MiB\n                      capabilities: journaled extended_attributes large_files huge_files dir_nlink recover 64bit extents ext4 ext2 initialized\n                      configuration: created=2020-01-05 14:48:02 filesystem=ext4 label=BOOT lastmountpoint=/boot modified=2026-01-18 08:36:53 mount.fstype=ext4 mount.options=rw,relatime mounted=2026-01-18 08:36:53 name=BOOT state=mounted\n                 *-volume:2\n                      description: EXT4 volume\n                      vendor: Linux\n                      physical id: 3\n                      bus info: nvme@0:1,3\n                      logical name: /dev/nvme0n1p3\n                      logical name: /\n                      version: 1.0\n                      serial: f2d04ef4-e0f4-4851-94d7-4cc9f64936ee\n                      size: 249GiB\n                      capabilities: journaled extended_attributes large_files huge_files dir_nlink recover 64bit extents ext4 ext2 initialized\n                      configuration: created=2020-01-05 05:28:42 filesystem=ext4 label=ARCH lastmountpoint=/sysroot modified=2026-01-18 14:38:50 mount.fstype=ext4 mount.options=rw,relatime mounted=2026-01-18 08:36:51 name=ARCH state=mounted\n                 *-volume:3\n                      description: EXT4 volume\n                      vendor: Linux\n                      physical id: 4\n                      bus info: nvme@0:1,4\n                      logical name: /dev/nvme0n1p4\n                      logical name: /home/gbin\n                      version: 1.0\n                      serial: e3bb1c98-ab2e-41a0-9f0d-eb0dd7035a34\n                      size: 1580GiB\n                      capacity: 1580GiB\n                      capabilities: journaled extended_attributes large_files huge_files dir_nlink recover 64bit extents ext4 ext2 initialized\n                      configuration: created=2025-03-10 11:21:35 filesystem=ext4 label=HOME lastmountpoint=/home/gbin modified=2026-01-18 14:36:58 mount.fstype=ext4 mount.options=rw,relatime mounted=2026-01-18 08:36:53 name=HOME state=mounted\n                 *-volume:4\n                      description: Linux swap volume\n                      vendor: Linux\n                      physical id: 5\n                      bus info: nvme@0:1,5\n                      logical name: /dev/nvme0n1p5\n                      version: 1\n                      serial: 83c8ed9a-e3f6-40e7-bf1f-9053d0882128\n                      size: 31GiB\n                      capacity: 31GiB\n                      capabilities: nofs swap initialized\n                      configuration: filesystem=swap label=swap name=SWAP pagesize=4095\n        *-pci:2\n             description: PCI bridge\n             product: Raphael/Granite Ridge GPP Bridge\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 2.1\n             bus info: pci@0000:00:02.1\n             version: 00\n             width: 32 bits\n             clock: 33MHz\n             capabilities: pci pm pciexpress msi ht normal_decode bus_master cap_list\n             configuration: driver=pcieport\n             resources: irq:30 ioport:1000(size=12288) memory:f2000000-f32fffff ioport:f810000000(size=1430257664)\n           *-pci\n                description: PCI bridge\n                product: 600 Series Chipset PCIe Switch Upstream Port\n                vendor: Advanced Micro Devices, Inc. [AMD]\n                physical id: 0\n                bus info: pci@0000:03:00.0\n                version: 01\n                width: 32 bits\n                clock: 33MHz\n                capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                configuration: driver=pcieport\n                resources: irq:24 ioport:1000(size=8192) memory:f2000000-f32fffff ioport:f810000000(size=1430257664)\n              *-pci:0\n                   description: PCI bridge\n                   product: 600 Series Chipset PCIe Switch Downstream Port\n                   vendor: Advanced Micro Devices, Inc. [AMD]\n                   physical id: 0\n                   bus info: pci@0000:04:00.0\n                   version: 01\n                   width: 64 bits\n                   clock: 33MHz\n                   capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                   configuration: driver=pcieport\n                   resources: iomemory:1f10-1f0f irq:34\n              *-pci:1\n                   description: PCI bridge\n                   product: 600 Series Chipset PCIe Switch Downstream Port\n                   vendor: Advanced Micro Devices, Inc. [AMD]\n                   physical id: 8\n                   bus info: pci@0000:04:08.0\n                   version: 01\n                   width: 64 bits\n                   clock: 33MHz\n                   capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                   configuration: driver=pcieport\n                   resources: iomemory:21110-2110f irq:35 ioport:1000(size=8192) memory:f2000000-f30fffff ioport:f810000000(size=1430257664)\n                 *-pci\n                      description: PCI bridge\n                      product: 600 Series Chipset PCIe Switch Upstream Port\n                      vendor: Advanced Micro Devices, Inc. [AMD]\n                      physical id: 0\n                      bus info: pci@0000:06:00.0\n                      version: 01\n                      width: 32 bits\n                      clock: 33MHz\n                      capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                      configuration: driver=pcieport\n                      resources: irq:24 ioport:1000(size=8192) memory:f2000000-f30fffff ioport:f810000000(size=1430257664)\n                    *-pci:0\n                         description: PCI bridge\n                         product: 600 Series Chipset PCIe Switch Downstream Port\n                         vendor: Advanced Micro Devices, Inc. [AMD]\n                         physical id: 0\n                         bus info: pci@0000:07:00.0\n                         version: 01\n                         width: 32 bits\n                         clock: 33MHz\n                         capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                         configuration: driver=pcieport\n                         resources: irq:37 memory:f2500000-f25fffff ioport:f865300000(size=1048576)\n                       *-network DISABLED\n                            description: Wireless interface\n                            product: MT7922 802.11ax PCI Express Wireless Network Adapter\n                            vendor: MEDIATEK Corp.\n                            physical id: 0\n                            bus info: pci@0000:08:00.0\n                            logical name: wlp8s0\n                            version: 00\n                            serial: f6:8a:25:c0:cb:f8\n                            width: 64 bits\n                            clock: 33MHz\n                            capabilities: pciexpress msi pm bus_master cap_list ethernet physical wireless\n                            configuration: broadcast=yes driver=mt7921e driverversion=6.18.5-2-cachyos firmware=____000000-20260106153507 latency=0 link=no multicast=yes wireless=IEEE 802.11\n                            resources: iomemory:f80-f7f irq:203 memory:f865300000-f8653fffff memory:f2500000-f2507fff\n                    *-pci:1\n                         description: PCI bridge\n                         product: 600 Series Chipset PCIe Switch Downstream Port\n                         vendor: Advanced Micro Devices, Inc. [AMD]\n                         physical id: 1\n                         bus info: pci@0000:07:01.0\n                         version: 01\n                         width: 32 bits\n                         clock: 33MHz\n                         capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                         configuration: driver=pcieport\n                         resources: irq:38 memory:f2600000-f27fffff\n                       *-network\n                            description: Ethernet interface\n                            product: Ethernet Controller I225-V\n                            vendor: Intel Corporation\n                            physical id: 0\n                            bus info: pci@0000:09:00.0\n                            logical name: eno1\n                            version: 03\n                            serial: c8:7f:54:01:99:ba\n                            capacity: 2500Mbit/s\n                            width: 32 bits\n                            clock: 33MHz\n                            capabilities: pm msi msix pciexpress bus_master cap_list ethernet physical tp 10bt 10bt-fd 100bt 100bt-fd 1000bt-fd 2500bt-fd autonegotiation\n                            configuration: autonegotiation=on broadcast=yes driver=igc driverversion=6.18.5-2-cachyos firmware=1082:8770 latency=0 link=no multicast=yes port=twisted pair\n                            resources: irq:36 memory:f2600000-f26fffff memory:f2700000-f2703fff\n                    *-pci:2\n                         description: PCI bridge\n                         product: 600 Series Chipset PCIe Switch Downstream Port\n                         vendor: Advanced Micro Devices, Inc. [AMD]\n                         physical id: 2\n                         bus info: pci@0000:07:02.0\n                         version: 01\n                         width: 32 bits\n                         clock: 33MHz\n                         capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                         configuration: driver=pcieport\n                         resources: irq:39 memory:f2000000-f24fffff\n                       *-network\n                            description: Ethernet interface\n                            product: AQtion AQC113CS NBase-T/IEEE 802.3an Ethernet Controller [Antigua 10G]\n                            vendor: Aquantia Corp.\n                            physical id: 0\n                            bus info: pci@0000:0a:00.0\n                            logical name: eno2\n                            version: 03\n                            serial: c8:7f:54:01:9b:83\n                            size: 10Gbit/s\n                            capacity: 10Gbit/s\n                            width: 64 bits\n                            clock: 33MHz\n                            capabilities: pm msi pciexpress msix bus_master cap_list rom ethernet physical tp 10bt-fd 100bt-fd 1000bt-fd 2500bt-fd 5000bt-fd 10000bt-fd autonegotiation\n                            configuration: autonegotiation=on broadcast=yes driver=atlantic driverversion=6.18.5-2-cachyos duplex=full firmware=1.3.24 ip=192.168.1.181 latency=0 link=yes multicast=yes port=twisted pair speed=10Gbit/s\n                            resources: irq:25 memory:f2400000-f247ffff memory:f24a0000-f24a0fff memory:f2000000-f23fffff memory:f2480000-f249ffff\n                    *-pci:3\n                         description: PCI bridge\n                         product: 600 Series Chipset PCIe Switch Downstream Port\n                         vendor: Advanced Micro Devices, Inc. [AMD]\n                         physical id: 3\n                         bus info: pci@0000:07:03.0\n                         version: 01\n                         width: 32 bits\n                         clock: 33MHz\n                         capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                         configuration: driver=pcieport\n                         resources: irq:41\n                    *-pci:4\n                         description: PCI bridge\n                         product: 600 Series Chipset PCIe Switch Downstream Port\n                         vendor: Advanced Micro Devices, Inc. [AMD]\n                         physical id: 4\n                         bus info: pci@0000:07:04.0\n                         version: 01\n                         width: 32 bits\n                         clock: 33MHz\n                         capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                         configuration: driver=pcieport\n                         resources: irq:42 ioport:1000(size=8192) memory:f2800000-f2efffff ioport:f810000000(size=1428160512)\n                       *-pci\n                            description: PCI bridge\n                            product: Thunderbolt 4 Bridge [Maple Ridge 4C 2020]\n                            vendor: Intel Corporation\n                            physical id: 0\n                            bus info: pci@0000:0c:00.0\n                            version: 02\n                            width: 64 bits\n                            clock: 33MHz\n                            capabilities: pci pm msi pciexpress normal_decode bus_master cap_list\n                            configuration: driver=pcieport\n                            resources: iomemory:21110-2110f irq:24 ioport:1000(size=8192) memory:f2800000-f2efffff ioport:f810000000(size=1428160512)\n                          *-pci:0\n                               description: PCI bridge\n                               product: Thunderbolt 4 Bridge [Maple Ridge 4C 2020]\n                               vendor: Intel Corporation\n                               physical id: 0\n                               bus info: pci@0000:0d:00.0\n                               version: 02\n                               width: 32 bits\n                               clock: 33MHz\n                               capabilities: pci pm msi pciexpress normal_decode bus_master cap_list\n                               configuration: driver=pcieport\n                               resources: irq:24 ioport:f865100000(size=1048576)\n                             *-usb\n                                  description: USB controller\n                                  product: Thunderbolt 4 NHI [Maple Ridge 4C 2020]\n                                  vendor: Intel Corporation\n                                  physical id: 0\n                                  bus info: pci@0000:0e:00.0\n                                  version: 00\n                                  width: 64 bits\n                                  clock: 33MHz\n                                  capabilities: pm msi pciexpress msix usb4_host_interface bus_master cap_list\n                                  configuration: driver=thunderbolt latency=0\n                                  resources: iomemory:f80-f7f iomemory:f80-f7f irq:24 memory:f865100000-f86513ffff memory:f865140000-f865140fff\n                          *-pci:1\n                               description: PCI bridge\n                               product: Thunderbolt 4 Bridge [Maple Ridge 4C 2020]\n                               vendor: Intel Corporation\n                               physical id: 1\n                               bus info: pci@0000:0d:01.0\n                               version: 02\n                               width: 32 bits\n                               clock: 33MHz\n                               capabilities: pci pm msi pciexpress normal_decode bus_master cap_list\n                               configuration: driver=pcieport\n                               resources: irq:44 ioport:1000(size=4096) memory:f2800000-f29fffff ioport:f840000000(size=620756992)\n                          *-pci:2\n                               description: PCI bridge\n                               product: Thunderbolt 4 Bridge [Maple Ridge 4C 2020]\n                               vendor: Intel Corporation\n                               physical id: 2\n                               bus info: pci@0000:0d:02.0\n                               version: 02\n                               width: 32 bits\n                               clock: 33MHz\n                               capabilities: pci pm msi pciexpress normal_decode bus_master cap_list\n                               configuration: driver=pcieport\n                               resources: irq:25 memory:f2a00000-f2afffff\n                             *-usb\n                                  description: USB controller\n                                  product: Thunderbolt 4 USB Controller [Maple Ridge 4C 2020]\n                                  vendor: Intel Corporation\n                                  physical id: 0\n                                  bus info: pci@0000:3a:00.0\n                                  version: 00\n                                  width: 64 bits\n                                  clock: 33MHz\n                                  capabilities: pm msi pciexpress xhci cap_list\n                                  configuration: driver=xhci_hcd latency=0\n                                  resources: irq:48 memory:f2a00000-f2a0ffff\n                                *-usbhost:0\n                                     product: xHCI Host Controller\n                                     vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                                     physical id: 0\n                                     bus info: usb@1\n                                     logical name: usb1\n                                     version: 6.18\n                                     capabilities: usb-2.00\n                                     configuration: driver=hub slots=2 speed=480Mbit/s\n                                *-usbhost:1\n                                     product: xHCI Host Controller\n                                     vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                                     physical id: 1\n                                     bus info: usb@2\n                                     logical name: usb2\n                                     version: 6.18\n                                     capabilities: usb-3.10\n                                     configuration: driver=hub slots=2 speed=10000Mbit/s\n                                   *-usb\n                                        description: USB hub\n                                        product: USB3.2 Hub\n                                        vendor: Generic\n                                        physical id: 2\n                                        bus info: usb@2:2\n                                        version: 0.04\n                                        capabilities: usb-3.20\n                                        configuration: driver=hub slots=3 speed=5000Mbit/s\n                          *-pci:3\n                               description: PCI bridge\n                               product: Thunderbolt 4 Bridge [Maple Ridge 4C 2020]\n                               vendor: Intel Corporation\n                               physical id: 3\n                               bus info: pci@0000:0d:03.0\n                               version: 02\n                               width: 32 bits\n                               clock: 33MHz\n                               capabilities: pci pm msi pciexpress normal_decode bus_master cap_list\n                               configuration: driver=pcieport\n                               resources: irq:45 ioport:2000(size=4096) memory:f2b00000-f2cfffff ioport:f810000000(size=620756992)\n                    *-pci:5\n                         description: PCI bridge\n                         product: 600 Series Chipset PCIe Switch Downstream Port\n                         vendor: Advanced Micro Devices, Inc. [AMD]\n                         physical id: 8\n                         bus info: pci@0000:07:08.0\n                         version: 01\n                         width: 32 bits\n                         clock: 33MHz\n                         capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                         configuration: driver=pcieport\n                         resources: irq:43\n                    *-pci:6\n                         description: PCI bridge\n                         product: 600 Series Chipset PCIe Switch Downstream Port\n                         vendor: Advanced Micro Devices, Inc. [AMD]\n                         physical id: c\n                         bus info: pci@0000:07:0c.0\n                         version: 01\n                         width: 32 bits\n                         clock: 33MHz\n                         capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                         configuration: driver=pcieport\n                         resources: irq:24 memory:f2f00000-f2ffffff\n                       *-usb\n                            description: USB controller\n                            product: 600 Series Chipset USB 3.2 Controller\n                            vendor: Advanced Micro Devices, Inc. [AMD]\n                            physical id: 0\n                            bus info: pci@0000:67:00.0\n                            version: 01\n                            width: 64 bits\n                            clock: 33MHz\n                            capabilities: msi msix pm pciexpress xhci bus_master cap_list\n                            configuration: driver=xhci_hcd latency=0\n                            resources: irq:24 memory:f2f00000-f2f07fff\n                          *-usbhost:0\n                               product: xHCI Host Controller\n                               vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                               physical id: 0\n                               bus info: usb@3\n                               logical name: usb3\n                               version: 6.18\n                               capabilities: usb-2.00\n                               configuration: driver=hub slots=12 speed=480Mbit/s\n                             *-usb:0\n                                  description: USB hub\n                                  product: USB 2.0 Hub\n                                  vendor: Terminus Technology Inc.\n                                  physical id: 1\n                                  bus info: usb@3:1\n                                  version: 1.11\n                                  capabilities: usb-2.00\n                                  configuration: driver=hub maxpower=100mA slots=4 speed=480Mbit/s\n                                *-usb:0\n                                     description: Human interface device\n                                     product: Live Gamer Ultra 2.1-RGB\n                                     vendor: AVerMedia Computer Inc.\n                                     physical id: 3\n                                     bus info: usb@3:1.3\n                                     version: 1.03\n                                     serial: 5204153100299\n                                     capabilities: usb-2.00\n                                     configuration: driver=usbhid maxpower=16mA speed=12Mbit/s\n                                *-usb:1\n                                     description: Keyboard\n                                     product: Nuvoton HID Keyboard\n                                     vendor: Nuvoton\n                                     physical id: 4\n                                     bus info: usb@3:1.4\n                                     logical name: input17\n                                     logical name: /dev/input/event17\n                                     logical name: input17::capslock\n                                     logical name: input17::compose\n                                     logical name: input17::kana\n                                     logical name: input17::numlock\n                                     logical name: input17::scrolllock\n                                     version: 0.00\n                                     capabilities: usb-1.10 usb\n                                     configuration: driver=usbhid maxpower=100mA speed=12Mbit/s\n                             *-usb:1\n                                  description: Keyboard\n                                  product: Keebio Gbin's IRIS\n                                  vendor: Keebio\n                                  physical id: 2\n                                  bus info: usb@3:2\n                                  logical name: input10\n                                  logical name: /dev/input/event10\n                                  logical name: /dev/input/mouse1\n                                  logical name: input11\n                                  logical name: /dev/input/event11\n                                  logical name: input12\n                                  logical name: /dev/input/event12\n                                  logical name: input13\n                                  logical name: /dev/input/event13\n                                  logical name: input13::capslock\n                                  logical name: input13::compose\n                                  logical name: input13::kana\n                                  logical name: input13::numlock\n                                  logical name: input13::scrolllock\n                                  logical name: input9\n                                  logical name: /dev/input/event9\n                                  logical name: input9::capslock\n                                  logical name: input9::compose\n                                  logical name: input9::kana\n                                  logical name: input9::numlock\n                                  logical name: input9::scrolllock\n                                  version: 8.00\n                                  capabilities: usb-2.00 usb\n                                  configuration: driver=usbhid maxpower=500mA speed=12Mbit/s\n                             *-usb:2\n                                  description: Audio device\n                                  product: Generic USB SPDIF Adapter\n                                  vendor: Generic\n                                  physical id: 4\n                                  bus info: usb@3:4\n                                  logical name: card1\n                                  logical name: /dev/snd/controlC1\n                                  logical name: /dev/snd/pcmC1D0p\n                                  logical name: /dev/snd/pcmC1D1p\n                                  logical name: input15\n                                  logical name: /dev/input/event15\n                                  logical name: input16\n                                  logical name: /dev/input/event16\n                                  version: 0.04\n                                  serial: 202110200032\n                                  capabilities: usb-2.00 audio-control usb\n                                  configuration: driver=usbhid maxpower=100mA speed=480Mbit/s\n                             *-usb:3\n                                  description: Bluetooth wireless interface\n                                  product: Wireless_Device\n                                  vendor: MediaTek Inc.\n                                  physical id: 6\n                                  bus info: usb@3:6\n                                  version: 1.00\n                                  serial: 000000000\n                                  capabilities: usb-2.10 bluetooth\n                                  configuration: driver=btusb maxpower=100mA speed=480Mbit/s\n                             *-usb:4\n                                  description: Human interface device\n                                  product: AURA LED Controller\n                                  vendor: AsusTek Computer Inc.\n                                  physical id: 7\n                                  bus info: usb@3:7\n                                  version: 1.00\n                                  serial: 9876543210\n                                  capabilities: usb-2.00\n                                  configuration: driver=usbhid maxpower=16mA speed=12Mbit/s\n                             *-usb:5\n                                  description: USB hub\n                                  product: USB2.1 Hub\n                                  vendor: Generic\n                                  physical id: 9\n                                  bus info: usb@3:9\n                                  version: 0.04\n                                  capabilities: usb-2.10\n                                  configuration: driver=hub slots=6 speed=480Mbit/s\n                                *-usb:0\n                                     description: Human interface device\n                                     product: R\n                                     vendor: R\n                                     physical id: 1\n                                     bus info: usb@3:9.1\n                                     logical name: card4\n                                     logical name: /dev/snd/controlC4\n                                     logical name: /dev/snd/pcmC4D0c\n                                     logical name: /dev/snd/pcmC4D0p\n                                     version: 2.21\n                                     serial: 3D285C3D\n                                     capabilities: usb-2.00\n                                     configuration: driver=snd-usb-audio maxpower=100mA speed=12Mbit/s\n                                *-usb:1\n                                     description: Human interface device\n                                     product: ROG Gaming Display Aura Device\n                                     vendor: AsusTek Computer Inc.\n                                     physical id: 4\n                                     bus info: usb@3:9.4\n                                     version: 1.00\n                                     serial: 9876543210\n                                     capabilities: usb-2.00\n                                     configuration: driver=usbhid maxpower=16mA speed=12Mbit/s\n                                *-usb:2\n                                     description: Human interface device\n                                     product: HID Device\n                                     vendor: Realtek\n                                     physical id: 6\n                                     bus info: usb@3:9.6\n                                     version: 1.01\n                                     capabilities: usb-2.01\n                                     configuration: driver=usbhid maxpower=100mA speed=480Mbit/s\n                          *-usbhost:1\n                               product: xHCI Host Controller\n                               vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                               physical id: 1\n                               bus info: usb@4\n                               logical name: usb4\n                               version: 6.18\n                               capabilities: usb-3.10\n                               configuration: driver=hub slots=5 speed=10000Mbit/s\n                             *-usb\n                                  description: Video\n                                  product: Live Gamer Ultra 2.1\n                                  vendor: AVerMedia\n                                  physical id: 1\n                                  bus info: usb@4:1\n                                  logical name: card0\n                                  logical name: /dev/snd/controlC0\n                                  logical name: /dev/snd/pcmC0D0c\n                                  logical name: /dev/snd/pcmC0D1c\n                                  version: 0.01\n                                  serial: 5204153100299\n                                  capabilities: usb-3.20\n                                  configuration: driver=snd-usb-audio maxpower=896mA speed=5000Mbit/s\n                    *-pci:7\n                         description: PCI bridge\n                         product: 600 Series Chipset PCIe Switch Downstream Port\n                         vendor: Advanced Micro Devices, Inc. [AMD]\n                         physical id: d\n                         bus info: pci@0000:07:0d.0\n                         version: 01\n                         width: 32 bits\n                         clock: 33MHz\n                         capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                         configuration: driver=pcieport\n                         resources: irq:36 memory:f3000000-f30fffff\n                       *-sata\n                            description: SATA controller\n                            product: 600 Series Chipset SATA Controller\n                            vendor: Advanced Micro Devices, Inc. [AMD]\n                            physical id: 0\n                            bus info: pci@0000:68:00.0\n                            version: 01\n                            width: 32 bits\n                            clock: 33MHz\n                            capabilities: sata msi pm pciexpress ahci_1.0 bus_master cap_list rom\n                            configuration: driver=ahci latency=0\n                            resources: irq:46 memory:f3080000-f30803ff memory:f3000000-f307ffff\n              *-pci:2\n                   description: PCI bridge\n                   product: 600 Series Chipset PCIe Switch Downstream Port\n                   vendor: Advanced Micro Devices, Inc. [AMD]\n                   physical id: c\n                   bus info: pci@0000:04:0c.0\n                   version: 01\n                   width: 64 bits\n                   clock: 33MHz\n                   capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                   configuration: driver=pcieport\n                   resources: iomemory:f00-eff irq:24 memory:f3100000-f31fffff\n                 *-usb\n                      description: USB controller\n                      product: 600 Series Chipset USB 3.2 Controller\n                      vendor: Advanced Micro Devices, Inc. [AMD]\n                      physical id: 0\n                      bus info: pci@0000:69:00.0\n                      version: 01\n                      width: 64 bits\n                      clock: 33MHz\n                      capabilities: msi msix pm pciexpress xhci bus_master cap_list\n                      configuration: driver=xhci_hcd latency=0\n                      resources: irq:24 memory:f3100000-f3107fff\n                    *-usbhost:0\n                         product: xHCI Host Controller\n                         vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                         physical id: 0\n                         bus info: usb@5\n                         logical name: usb5\n                         version: 6.18\n                         capabilities: usb-2.00\n                         configuration: driver=hub slots=12 speed=480Mbit/s\n                       *-usb:0\n                            description: Human interface device\n                            product: NZXT Kraken Elite\n                            vendor: NZXT, Inc.\n                            physical id: 7\n                            bus info: usb@5:7\n                            version: 2.01\n                            serial: D3C693820E400C38\n                            capabilities: usb-2.00\n                            configuration: driver=usbhid maxpower=100mA speed=480Mbit/s\n                       *-usb:1\n                            description: Human interface device\n                            product: NZXT RGB Controller\n                            vendor: NZXT, Inc.\n                            physical id: 9\n                            bus info: usb@5:9\n                            version: 1.05\n                            serial: 31406E52FBAFA559A532E61B943A6EEE\n                            capabilities: usb-2.00\n                            configuration: driver=usbhid maxpower=100mA speed=12Mbit/s\n                    *-usbhost:1\n                         product: xHCI Host Controller\n                         vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                         physical id: 1\n                         bus info: usb@6\n                         logical name: usb6\n                         version: 6.18\n                         capabilities: usb-3.10\n                         configuration: driver=hub slots=5 speed=10000Mbit/s\n              *-pci:3\n                   description: PCI bridge\n                   product: 600 Series Chipset PCIe Switch Downstream Port\n                   vendor: Advanced Micro Devices, Inc. [AMD]\n                   physical id: d\n                   bus info: pci@0000:04:0d.0\n                   version: 01\n                   width: 64 bits\n                   clock: 33MHz\n                   capabilities: pci msi pm pciexpress normal_decode bus_master cap_list\n                   configuration: driver=pcieport\n                   resources: iomemory:f00-eff irq:36 memory:f3200000-f32fffff\n                 *-sata\n                      description: SATA controller\n                      product: 600 Series Chipset SATA Controller\n                      vendor: Advanced Micro Devices, Inc. [AMD]\n                      physical id: 0\n                      bus info: pci@0000:6a:00.0\n                      version: 01\n                      width: 32 bits\n                      clock: 33MHz\n                      capabilities: sata msi pm pciexpress ahci_1.0 bus_master cap_list rom\n                      configuration: driver=ahci latency=0\n                      resources: irq:47 memory:f3280000-f32803ff memory:f3200000-f327ffff\n        *-pci:3\n             description: PCI bridge\n             product: Raphael/Granite Ridge GPP Bridge\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 2.2\n             bus info: pci@0000:00:02.2\n             version: 00\n             width: 32 bits\n             clock: 33MHz\n             capabilities: pci pm pciexpress msi ht normal_decode bus_master cap_list\n             configuration: driver=pcieport\n             resources: irq:31 memory:df700000-df7fffff\n           *-nvme\n                description: NVMe device\n                product: CT2000T700SSD3\n                vendor: Micron/Crucial Technology\n                physical id: 0\n                bus info: pci@0000:6b:00.0\n                logical name: /dev/nvme1\n                version: PACR5101\n                serial: 2321E6D8C320\n                width: 64 bits\n                clock: 33MHz\n                capabilities: nvme pciexpress vpd msix msi pm nvm_express bus_master cap_list\n                configuration: driver=nvme latency=0 nqn=nqn.2016-08.com.micron:nvme:nvm-subsystem-sn-2321E6D8C320 state=live\n                resources: irq:24 memory:df700000-df703fff\n              *-namespace:0\n                   description: NVMe disk\n                   physical id: 0\n                   logical name: hwmon1\n              *-namespace:1\n                   description: NVMe disk\n                   physical id: 2\n                   logical name: /dev/ng1n1\n              *-namespace:2\n                   description: NVMe disk\n                   physical id: 1\n                   bus info: nvme@1:1\n                   logical name: /dev/nvme1n1\n                   size: 1863GiB (2TB)\n                   capabilities: gpt-1.00 partitioned partitioned:gpt\n                   configuration: guid=8061a7e5-e38e-11f0-8fc0-c87f54019b83 logicalsectorsize=512 sectorsize=512 wwid=uuid.21c2c02b-a2ae-4600-9b2d-66a2f630fc22\n                 *-volume:0\n                      description: reserved partition\n                      vendor: Windows\n                      physical id: 1\n                      bus info: nvme@1:1,1\n                      logical name: /dev/nvme1n1p1\n                      serial: c3bb8301-d142-44e3-8acd-efc9a3034b97\n                      capacity: 15MiB\n                      capabilities: nofs\n                 *-volume:1\n                      description: Windows NTFS volume\n                      vendor: Windows\n                      physical id: 2\n                      bus info: nvme@1:1,2\n                      logical name: /dev/nvme1n1p2\n                      version: 3.1\n                      serial: 4e8cee66-b06a-c34c-839b-ea1ca64dd3fa\n                      size: 281GiB\n                      capacity: 282GiB\n                      capabilities: ntfs initialized\n                      configuration: clustersize=4096 created=2022-12-12 00:13:53 filesystem=ntfs name=WINDOWS state=clean\n                 *-volume:2\n                      description: Windows NTFS volume\n                      vendor: Windows\n                      physical id: 3\n                      bus info: nvme@1:1,3\n                      logical name: /dev/nvme1n1p3\n                      version: 3.1\n                      serial: 9293-6a19\n                      size: 536MiB\n                      capacity: 560MiB\n                      capabilities: boot precious nomount ntfs initialized\n                      configuration: clustersize=4096 created=2021-02-02 13:35:34 filesystem=ntfs name=WINDOWS-DIAG state=clean\n                 *-volume:3\n                      description: Windows NTFS volume\n                      vendor: Windows\n                      physical id: 4\n                      bus info: nvme@1:1,4\n                      logical name: /dev/nvme1n1p4\n                      version: 3.1\n                      serial: d42c8173-23e2-e64d-a169-36b3ef4b268c\n                      size: 1580GiB\n                      capacity: 1580GiB\n                      capabilities: ntfs initialized\n                      configuration: clustersize=4096 created=2024-04-11 19:35:44 filesystem=ntfs label=Games name=GAMES state=clean\n        *-pci:4\n             description: PCI bridge\n             product: Raphael/Granite Ridge Internal GPP Bridge to Bus [C:A]\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 8.1\n             bus info: pci@0000:00:08.1\n             version: 00\n             width: 32 bits\n             clock: 33MHz\n             capabilities: pci pm pciexpress msi normal_decode bus_master cap_list\n             configuration: driver=pcieport\n             resources: irq:32 memory:df200000-df5fffff\n           *-generic:0 UNCLAIMED\n                description: Non-Essential Instrumentation\n                product: Raphael/Granite Ridge PCIe Dummy Function\n                vendor: Advanced Micro Devices, Inc. [AMD]\n                physical id: 0\n                bus info: pci@0000:6c:00.0\n                version: c9\n                width: 32 bits\n                clock: 33MHz\n                capabilities: pm pciexpress cap_list\n                configuration: latency=0\n           *-generic:1\n                description: Encryption controller\n                product: Family 19h PSP/CCP\n                vendor: Advanced Micro Devices, Inc. [AMD]\n                physical id: 0.2\n                bus info: pci@0000:6c:00.2\n                version: 00\n                width: 32 bits\n                clock: 33MHz\n                capabilities: pm pciexpress msi msix bus_master cap_list\n                configuration: driver=ccp latency=0\n                resources: irq:183 memory:df400000-df4fffff memory:df508000-df509fff\n           *-usb:0\n                description: USB controller\n                product: Raphael/Granite Ridge USB 3.1 xHCI\n                vendor: Advanced Micro Devices, Inc. [AMD]\n                physical id: 0.3\n                bus info: pci@0000:6c:00.3\n                version: 00\n                width: 64 bits\n                clock: 33MHz\n                capabilities: pm pciexpress msi msix xhci cap_list\n                configuration: driver=xhci_hcd latency=0\n                resources: irq:72 memory:df300000-df3fffff\n              *-usbhost:0\n                   product: xHCI Host Controller\n                   vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                   physical id: 0\n                   bus info: usb@7\n                   logical name: usb7\n                   version: 6.18\n                   capabilities: usb-2.00\n                   configuration: driver=hub slots=2 speed=480Mbit/s\n              *-usbhost:1\n                   product: xHCI Host Controller\n                   vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                   physical id: 1\n                   bus info: usb@8\n                   logical name: usb8\n                   version: 6.18\n                   capabilities: usb-3.10\n                   configuration: driver=hub slots=2 speed=10000Mbit/s\n           *-usb:1\n                description: USB controller\n                product: Raphael/Granite Ridge USB 3.1 xHCI\n                vendor: Advanced Micro Devices, Inc. [AMD]\n                physical id: 0.4\n                bus info: pci@0000:6c:00.4\n                version: 00\n                width: 64 bits\n                clock: 33MHz\n                capabilities: pm pciexpress msi msix xhci bus_master cap_list\n                configuration: driver=xhci_hcd latency=0\n                resources: irq:81 memory:df200000-df2fffff\n              *-usbhost:0\n                   product: xHCI Host Controller\n                   vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                   physical id: 0\n                   bus info: usb@9\n                   logical name: usb9\n                   version: 6.18\n                   capabilities: usb-2.00\n                   configuration: driver=hub slots=2 speed=480Mbit/s\n                 *-usb\n                      description: Keyboard\n                      product: Compx 2.4G Wireless Receiver\n                      vendor: Compx\n                      physical id: 2\n                      bus info: usb@9:2\n                      logical name: input2\n                      logical name: /dev/input/event2\n                      logical name: input2::capslock\n                      logical name: input2::numlock\n                      logical name: input2::scrolllock\n                      logical name: input3\n                      logical name: /dev/input/event3\n                      logical name: input4\n                      logical name: /dev/input/event4\n                      logical name: input5\n                      logical name: /dev/input/event5\n                      logical name: input6\n                      logical name: /dev/input/event6\n                      logical name: input7\n                      logical name: /dev/input/event7\n                      logical name: input8\n                      logical name: /dev/input/event8\n                      logical name: /dev/input/mouse0\n                      version: 1.20\n                      capabilities: usb-2.00 usb\n                      configuration: driver=usbhid maxpower=98mA speed=12Mbit/s\n              *-usbhost:1\n                   product: xHCI Host Controller\n                   vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                   physical id: 1\n                   bus info: usb@10\n                   logical name: usb10\n                   version: 6.18\n                   capabilities: usb-3.10\n                   configuration: driver=hub slots=2 speed=10000Mbit/s\n           *-multimedia\n                description: Audio device\n                product: Ryzen HD Audio Controller\n                vendor: Advanced Micro Devices, Inc. [AMD]\n                physical id: 0.6\n                bus info: pci@0000:6c:00.6\n                logical name: card3\n                logical name: /dev/snd/controlC3\n                logical name: /dev/snd/hwC3D0\n                logical name: /dev/snd/pcmC3D0c\n                logical name: /dev/snd/pcmC3D0p\n                logical name: /dev/snd/pcmC3D2c\n                version: 00\n                width: 32 bits\n                clock: 33MHz\n                capabilities: pm pciexpress msi hda_compatible bus_master cap_list\n                configuration: driver=snd_hda_intel latency=0\n                resources: irq:187 memory:df500000-df507fff\n              *-input:0\n                   product: HD-Audio Generic Rear Mic\n                   physical id: 0\n                   logical name: input24\n                   logical name: /dev/input/event24\n              *-input:1\n                   product: HD-Audio Generic Front Mic\n                   physical id: 1\n                   logical name: input25\n                   logical name: /dev/input/event25\n              *-input:2\n                   product: HD-Audio Generic Line\n                   physical id: 2\n                   logical name: input26\n                   logical name: /dev/input/event26\n              *-input:3\n                   product: HD-Audio Generic Line Out\n                   physical id: 3\n                   logical name: input27\n                   logical name: /dev/input/event27\n              *-input:4\n                   product: HD-Audio Generic Front Headphone\n                   physical id: 4\n                   logical name: input28\n                   logical name: /dev/input/event28\n        *-pci:5\n             description: PCI bridge\n             product: Raphael/Granite Ridge Internal GPP Bridge to Bus [C:A]\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 8.3\n             bus info: pci@0000:00:08.3\n             version: 00\n             width: 32 bits\n             clock: 33MHz\n             capabilities: pci pm pciexpress msi normal_decode bus_master cap_list\n             configuration: driver=pcieport\n             resources: irq:33 memory:df600000-df6fffff\n           *-usb\n                description: USB controller\n                product: Raphael/Granite Ridge USB 2.0 xHCI\n                vendor: Advanced Micro Devices, Inc. [AMD]\n                physical id: 0\n                bus info: pci@0000:6d:00.0\n                version: 00\n                width: 64 bits\n                clock: 33MHz\n                capabilities: pm pciexpress msi msix xhci cap_list\n                configuration: driver=xhci_hcd latency=0\n                resources: irq:24 memory:df600000-df6fffff\n              *-usbhost\n                   product: xHCI Host Controller\n                   vendor: Linux 6.18.5-2-cachyos xhci-hcd\n                   physical id: 1\n                   bus info: usb@11\n                   logical name: usb11\n                   version: 6.18\n                   capabilities: usb-2.00\n                   configuration: driver=hub slots=1 speed=480Mbit/s\n        *-serial\n             description: SMBus\n             product: FCH SMBus Controller\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 14\n             bus info: pci@0000:00:14.0\n             version: 71\n             width: 32 bits\n             clock: 66MHz\n             configuration: driver=piix4_smbus latency=0\n             resources: irq:0\n        *-isa\n             description: ISA bridge\n             product: FCH LPC Bridge\n             vendor: Advanced Micro Devices, Inc. [AMD]\n             physical id: 14.3\n             bus info: pci@0000:00:14.3\n             version: 51\n             width: 32 bits\n             clock: 66MHz\n             capabilities: isa bus_master\n             configuration: latency=0\n           *-pnp00:00\n                product: System Board\n                physical id: 0\n                capabilities: pnp\n                configuration: driver=system\n           *-pnp00:01\n                product: Motherboard registers\n                physical id: 1\n                capabilities: pnp\n                configuration: driver=system\n           *-pnp00:02\n                product: AT Real-Time Clock\n                physical id: 2\n                capabilities: pnp\n                configuration: driver=rtc_cmos\n           *-pnp00:03\n                product: Motherboard registers\n                physical id: 3\n                capabilities: pnp\n                configuration: driver=system\n           *-pnp00:04\n                product: 16550A-compatible COM port\n                physical id: 4\n                capabilities: pnp\n                configuration: driver=serial\n           *-pnp00:05\n                product: Motherboard registers\n                physical id: 5\n                capabilities: pnp\n                configuration: driver=system\n     *-pci:1\n          description: Host bridge\n          product: Raphael/Granite Ridge Dummy Host Bridge\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 101\n          bus info: pci@0000:00:01.0\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:2\n          description: Host bridge\n          product: Raphael/Granite Ridge Dummy Host Bridge\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 102\n          bus info: pci@0000:00:02.0\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:3\n          description: Host bridge\n          product: Raphael/Granite Ridge Dummy Host Bridge\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 103\n          bus info: pci@0000:00:03.0\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:4\n          description: Host bridge\n          product: Raphael/Granite Ridge Dummy Host Bridge\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 104\n          bus info: pci@0000:00:04.0\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:5\n          description: Host bridge\n          product: Raphael/Granite Ridge Dummy Host Bridge\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 105\n          bus info: pci@0000:00:08.0\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:6\n          description: Host bridge\n          product: Raphael/Granite Ridge Data Fabric; Function 0\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 106\n          bus info: pci@0000:00:18.0\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:7\n          description: Host bridge\n          product: Raphael/Granite Ridge Data Fabric; Function 1\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 107\n          bus info: pci@0000:00:18.1\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:8\n          description: Host bridge\n          product: Raphael/Granite Ridge Data Fabric; Function 2\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 108\n          bus info: pci@0000:00:18.2\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:9\n          description: Host bridge\n          product: Raphael/Granite Ridge Data Fabric; Function 3\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 109\n          bus info: pci@0000:00:18.3\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n          configuration: driver=k10temp\n          resources: irq:0\n     *-pci:10\n          description: Host bridge\n          product: Raphael/Granite Ridge Data Fabric; Function 4\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 10a\n          bus info: pci@0000:00:18.4\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:11\n          description: Host bridge\n          product: Raphael/Granite Ridge Data Fabric; Function 5\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 10b\n          bus info: pci@0000:00:18.5\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:12\n          description: Host bridge\n          product: Raphael/Granite Ridge Data Fabric; Function 6\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 10c\n          bus info: pci@0000:00:18.6\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n     *-pci:13\n          description: Host bridge\n          product: Raphael/Granite Ridge Data Fabric; Function 7\n          vendor: Advanced Micro Devices, Inc. [AMD]\n          physical id: 10d\n          bus info: pci@0000:00:18.7\n          version: 00\n          width: 32 bits\n          clock: 33MHz\n  *-input:0\n       product: Power Button\n       physical id: 1\n       logical name: input0\n       logical name: /dev/input/event0\n       capabilities: platform\n  *-input:1\n       product: Power Button\n       physical id: 2\n       logical name: input1\n       logical name: /dev/input/event1\n       capabilities: platform\n  *-input:2\n       product: Video Bus\n       physical id: 3\n       logical name: input14\n       logical name: /dev/input/event14\n       capabilities: platform\n  *-input:3\n       product: PC Speaker\n       physical id: 4\n       logical name: input18\n       logical name: /dev/input/event18\n       capabilities: isa\n  *-input:4\n       product: Eee PC WMI hotkeys\n       physical id: 5\n       logical name: input19\n       logical name: /dev/input/event19\n       capabilities: platform\n</code></pre>"},{"location":"Build-and-Deploy-a-Copper-Application/","title":"Build and Deploy a Copper Application","text":""},{"location":"Build-and-Deploy-a-Copper-Application/#here-is-a-quick-illustration-of-how-to-build-and-deploy-a-copper-application","title":"Here is a quick illustration of how to build and deploy a Copper application.","text":"<p>At compile time, <code>cargo build</code> or <code>cargo build -r</code> will generate 3 artifacts. 1. the actual binary that will run on the target. 2. a log reader that will allow you to read the logs generated by your robots. 3. a string index directory that will be necessary to reconstruct the log strings from the copper binary log file.</p>"},{"location":"Config-and-Missions-Visualization/","title":"Copper Configuration and Mission Visualization","text":"<p>In order to visualize a configuration and the mission you can use this command:</p> <pre><code>cd examples/cu_bridge_test\njust dag\n</code></pre> <p>It should produce a file in the current directory called <code>output.svg</code> containing a graph like this with all the missions: </p> <p>You can also list the missions from the config or only render a specific mission check <code>--help</code> for details:</p> <pre><code>$ cargo run -p cu29-runtime --bin cu29-rendercfg -- --help\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.15s\n     Running `target/debug/cu29-rendercfg --help`\nCopper Runtime Runtime crate. Copper is an engine for robotics.\n\nUsage: cu29-rendercfg [OPTIONS] &lt;CONFIG&gt;\n\nArguments:\n  &lt;CONFIG&gt;  Config file name\n\nOptions:\n      --mission &lt;MISSION&gt;  Mission id to render (omit to render every mission)\n      --list-missions      List missions contained in the configuration and exit\n      --open               Open the SVG in the default system viewer\n  -h, --help               Print help\n  -V, --version            Print version\n</code></pre>"},{"location":"Copper-Application-Overview/","title":"Copper Application Overview","text":"<p>This page shows a minimal Copper application: a task graph definition in RON and the Rust code that implements a simple task and runtime.</p>"},{"location":"Copper-Application-Overview/#task-graph-ron","title":"Task graph (RON)","text":"<pre><code>(\n    tasks: [\n        (\n            id: \"src\",\n            type: \"FlippingSource\",\n        ),\n        (\n            id: \"gpio\",\n            type: \"cu_rp_gpio::RPGpio\",\n            config: {\n                \"pin\": 4,\n            },\n        ),\n    ],\n    cnx: [\n        (src: \"src\", dst: \"gpio\", msg: \"cu_rp_gpio::RPGpioMsg\"),\n    ],\n)\n</code></pre>"},{"location":"Copper-Application-Overview/#runtime-and-task-implementation-rust","title":"Runtime and task implementation (Rust)","text":"<pre><code>use std::path::PathBuf;\n\nuse cu29::prelude::*;\n\n#[copper_runtime(config = \"copperconfig.ron\")]\nstruct MyApplication {}\n\npub struct FlippingSource {\n    state: bool,\n}\n\nimpl CuSrcTask for FlippingSource {\n    type Output&lt;'m&gt; = output_msg!(RPGpioPayload);\n\n    fn new(config: Option&lt;&amp;copper::config::ComponentConfig&gt;) -&gt; CuResult&lt;Self&gt;\n    where\n        Self: Sized,\n    {\n        Ok(Self { state: true })\n    }\n\n    fn process(&amp;mut self, clock: &amp;RobotClock, output: &amp;mut Self::Output&lt;'_&gt;) -&gt; CuResult&lt;()&gt; {\n        self.state = !self.state;\n        output.set_payload(RPGpioPayload {\n            on: self.state,\n            creation: Some(clock.now()).into(),\n            actuation: Some(clock.now()).into(),\n        });\n        Ok(())\n    }\n}\n\nfn main() {\n    let logger_path = \"/tmp/mylogfile.copper\";\n    let copper_ctx =\n        basic_copper_setup(&amp;PathBuf::from(logger_path), true).expect(\"Failed to setup logger.\");\n\n    debug!(\"Logger created at {}.\", logger_path);\n\n    let clock = copper_ctx.clock;\n\n    debug!(\"Creating application... \");\n    let mut application =\n        MyApplication::new(clock.clone(), copper_ctx.unified_logger.clone())\n            .expect(\"Failed to create runtime.\");\n    debug!(\"Running... starting clock: {}.\", clock.now());\n    application.run().expect(\"Failed to run application.\");\n    debug!(\"End of program: {}.\", clock.now());\n}\n</code></pre> <p>For a deeper explanation of task lifecycle hooks and scheduling, see Task Lifecycle.</p>"},{"location":"Copper-RON-Configuration-Reference/","title":"Copper RON Configuration Reference","text":"<p>This guide explains how to configure a Copper application using RON files. It summarises the available sections and options based on the source code and example configurations.</p>"},{"location":"Copper-RON-Configuration-Reference/#basic-structure","title":"Basic Structure","text":"<p>A Copper configuration is a RON file containing tasks, connections and optional sections such as monitoring, logging or runtime settings. The minimal form looks like:</p> <pre><code>(\n    tasks: [],\n    cnx: [],\n)\n</code></pre> <p>Most examples name the file <code>copperconfig.ron</code> and reference it with the <code>#[copper_runtime(config = \"...\")]</code> attribute.</p>"},{"location":"Copper-RON-Configuration-Reference/#tasks","title":"Tasks","text":"<p>Tasks are declared under the <code>tasks</code> array. Each task entry is a tuple with the following fields:</p> <ul> <li><code>id</code> \u2013 unique identifier of the task.</li> <li><code>type</code> \u2013 fully qualified Rust type of the task implementation.</li> <li><code>config</code> (optional) \u2013 map of parameters passed to the task.</li> <li><code>missions</code> (optional) \u2013 list of mission ids in which this task is active.</li> <li><code>background</code> (optional) \u2013 when set to <code>true</code>, the task runs on a background thread.</li> <li><code>logging</code> (optional) \u2013 <code>{ enabled: bool }</code> to enable or disable message logging for this task.</li> </ul> <p>Example:</p> <pre><code>(\n    id: \"task1\",\n    type: \"tasks::ExampleTask\",\n    background: true,\n    logging: (enabled: false),\n)\n</code></pre>"},{"location":"Copper-RON-Configuration-Reference/#connections","title":"Connections","text":"<p>Connections are declared under <code>cnx</code> as tuples describing edges between tasks:</p> <ul> <li><code>src</code> \u2013 id of the source task.</li> <li><code>dst</code> \u2013 id of the destination task.</li> <li><code>msg</code> \u2013 Rust type of the message carried.</li> <li><code>missions</code> (optional) \u2013 restrict the connection to specific missions.</li> </ul> <p>Example:</p> <pre><code>(src: \"task0\", dst: \"task1\", msg: \"i32\")\n</code></pre>"},{"location":"Copper-RON-Configuration-Reference/#monitoring","title":"Monitoring","text":"<p>The optional <code>monitor</code> section selects a monitoring component and its parameters:</p> <pre><code>monitor: (\n    type: \"cu_consolemon::CuConsoleMon\",\n    config: { \"verbosity\": 2 },\n)\n</code></pre>"},{"location":"Copper-RON-Configuration-Reference/#logging","title":"Logging","text":"<p>The <code>logging</code> section tunes Copper\u2019s structured log. Options mirror the fields of <code>LoggingConfig</code> defined in <code>core/cu29_runtime/src/config.rs</code>:</p> <ul> <li><code>enable_task_logging</code> \u2013 controls per-task logging (defaults to <code>true</code>).</li> <li><code>slab_size_mib</code> \u2013 size of each memory mapped slab in MiB.</li> <li><code>section_size_mib</code> \u2013 pre\u2011allocated size per log section in MiB.</li> <li><code>keyframe_interval</code> \u2013 number of copperlists between two keyframes (default <code>100</code>).</li> </ul> <p>Example from <code>examples/cu_logging_size</code>:</p> <pre><code>logging: (\n    slab_size_mib: 1024,\n    section_size_mib: 100,\n)\n</code></pre> <p>The library validates that <code>section_size_mib</code> does not exceed <code>slab_size_mib</code>.</p>"},{"location":"Copper-RON-Configuration-Reference/#runtime-settings","title":"Runtime Settings","text":"<p>Runtime behaviour can be adjusted with the <code>runtime</code> section. Currently only <code>rate_target_hz</code> is available:</p> <pre><code>runtime: (\n    rate_target_hz: 2,\n)\n</code></pre> <p>This acts as a rate limiter for Copper list execution.</p>"},{"location":"Copper-RON-Configuration-Reference/#missions","title":"Missions","text":"<p>Configurations may define multiple missions, each representing an alternative task graph:</p> <pre><code>missions: [ (id: \"A\"), (id: \"B\") ]\n</code></pre> <p>Tasks and connections can specify a <code>missions</code> array to belong only to selected missions. See <code>examples/cu_missions/copperconfig.ron</code> for a complete example.</p>"},{"location":"Copper-RON-Configuration-Reference/#modular-configuration","title":"Modular Configuration","text":"<p>Copper supports composition of configurations using the <code>includes</code> section. Each include specifies a path and optional parameter substitutions:</p> <pre><code>includes: [\n    (\n        path: \"base.ron\",\n        params: { \"id\": \"left\", \"pin\": 4 },\n    ),\n]\n</code></pre> <p>Included files are processed recursively. Parameters are substituted in the included text using the <code>{{param}}</code> syntax. Merging behaviour and further details are described in <code>doc/modular_config.md</code>.</p>"},{"location":"Copper-RON-Configuration-Reference/#example","title":"Example","text":"<p>A more complete configuration demonstrating several features is provided in <code>examples/modular_config_example/main_config.ron</code>:</p> <pre><code>(\n    tasks: [],\n    cnx: [],\n    monitor: ( type: \"cu_consolemon::CuConsoleMon\" ),\n    logging: ( file: \"robot.copper\", level: \"debug\" ),\n    includes: [\n        ( path: \"base.ron\", params: {} ),\n        ( path: \"motors.ron\", params: { \"id\": \"left\",  \"pin\": 4, \"direction\": \"forward\" } ),\n        ( path: \"motors.ron\", params: { \"id\": \"right\", \"pin\": 5, \"direction\": \"reverse\" } ),\n    ],\n)\n</code></pre>"},{"location":"Copper-RON-Configuration-Reference/#further-reading","title":"Further Reading","text":"<p>For advanced composition rules and best practices see the Modular Configuration guide.</p>"},{"location":"Copper-Release-Notes/","title":"v0.13.0 - WIP","text":""},{"location":"Copper-Release-Notes/#breaking-api-changes","title":"Breaking API Changes","text":"<ul> <li>#682: <code>ComponentConfig::get&lt;T&gt;()</code> and <code>Node::get_param&lt;T&gt;()</code> now return <code>Result&lt;Option&lt;T&gt;, ConfigError&gt;</code> instead of <code>Option&lt;T&gt;</code> to propagate type conversion errors; <code>CuConfig::serialize_ron()</code> and <code>deserialize_ron()</code> now return <code>CuResult</code> instead of panicking. See migration guide in the PR description.</li> </ul>"},{"location":"Copper-Release-Notes/#v0120-2026-01-15","title":"v0.12.0 - 2026-01-15","text":""},{"location":"Copper-Release-Notes/#high-level","title":"High Level","text":"<p>Resources are now first-class in Copper: you can describe hardware endpoints and shared system services in config, then bind them to tasks/bridges without rewriting code. Multi-output tasks land, mission/DAG rendering is clearer, and the flight controller stack is now a solid base for autonomous flying machines on off-the-shelf hardware.</p>"},{"location":"Copper-Release-Notes/#breaking-api-changes_1","title":"Breaking API Changes","text":"<ul> <li> <p>Resources are now explicit in task/bridge constructors   Why: resources are now configured in <code>copperconfig.ron</code> just like config, so ownership/sharing and board wiring live in the mission config instead of task code. This keeps tasks portable across missions/boards and makes resource lifetimes consistent.   Before (v0.11: no resources parameter):   <code>rust   impl CuTask for TelemetryTask {       fn new(cfg: Option&lt;&amp;ComponentConfig&gt;) -&gt; CuResult&lt;Self&gt; {           let port: String = cfg.and_then(|c| c.get(\"serial_port\")).unwrap();           let serial = SerialPort::open(port)?;           Ok(Self { serial })       }   }</code>   After (v0.12: no resources needed, use <code>()</code> and ignore <code>_res</code>):   ```rust   impl CuTask for TelemetryTask {       type Resources&lt;'r&gt; = ();</p> <p>fn new(cfg: Option&lt;&amp;ComponentConfig&gt;, _res: ()) -&gt; CuResult {       let port: String = cfg.and_then(|c| c.get(\"serial_port\")).unwrap();       let serial = SerialPort::open(port)?;       Ok(Self { serial })   }   }   <code>After (v0.12: with resources):</code>rust   pub struct TelemetryResources&lt;'r&gt; {   pub serial: Owned,   } <p>impl&lt;'r&gt; ResourceBindings&lt;'r&gt; for TelemetryResources&lt;'r&gt; {       type Binding = TelemetryBinding;</p> <pre><code>  fn from_bindings(\n      mgr: &amp;'r mut ResourceManager,\n      map: Option&lt;&amp;ResourceBindingMap&lt;Self::Binding&gt;&gt;,\n  ) -&gt; CuResult&lt;Self&gt; {\n      let map = map.expect(\"serial binding\");\n      let serial = mgr.take(map.get(TelemetryBinding::Serial).unwrap().typed())?;\n      Ok(Self { serial })\n  }\n</code></pre> <p>}</p> <p>impl CuTask for TelemetryTask {       type Resources&lt;'r&gt; = TelemetryResources&lt;'r&gt;;</p> <pre><code>  fn new(_cfg: Option&lt;&amp;ComponentConfig&gt;, res: Self::Resources&lt;'_&gt;) -&gt; CuResult&lt;Self&gt; {\n      Ok(Self { serial: res.serial.0 })\n  }\n</code></pre> <p>}   ```</p> <ul> <li>Messages must implement <code>Deserialize</code>   Why: every Copper message now round-trips through serde so comm systems (Zenoh bridges, Copper-to-Copper, Copper-to-foreign) stay compatible across transports with the flexibility of serde. <code>CuMsgPayload</code> now requires <code>DeserializeOwned</code>. (#648)</li> </ul>"},{"location":"Copper-Release-Notes/#new-features","title":"New Features","text":"<ul> <li> <p>Resources system (bundles + two-phase init + exports)   Define hardware endpoints and shared system services (serial ports, buses, thread pools, memory arenas, etc.) in <code>copperconfig.ron</code> and bind them by name to tasks/bridges. Think of it as a hardware abstraction/wiring layer: tasks ask for named resources and the config decides which board resource they get. Resource tables are now rendered in DAGs. (#557, #580, #581, #579, #562, #619, #631) </p> </li> <li> <p>Multi-output tasks   Tasks can emit multiple outputs natively, unlocking richer graph topologies. (#635) </p> </li> <li> <p>Mission/DAG rendering upgrades   Custom SVG renderer, clearer layout, legend/credit, and CuGraph helpers for repeated patterns. (#588, #642, #589, #611, #556)   Generate your own with: <code>cargo run -p cu29-runtime --bin cu29-rendercfg -- examples/&lt;app&gt;/copperconfig.ron --mission &lt;id&gt;</code> (writes <code>output.svg</code>, add <code>--open</code> to preview) </p> </li> <li> <p>Logging additions   New textlogs support, a temporary EOF marker to recover logs cleanly after abrupt power loss (think yanking a drone battery), and FC log extraction helpers. (#623, #535, #593)</p> </li> </ul>"},{"location":"Copper-Release-Notes/#flight-controller-sdk-mvp","title":"Flight Controller SDK (MVP+)","text":"<p>This is now a strong base for autonomous flying machines on off-the-shelf hardware, with Copper handling the control, logging, and radio/ESC plumbing.</p> <ul> <li> <p>STM32 baseline + DSHOT   STM32 reference stack with ELRS + storage, plus STM32 DSHOT support. (#546, #575, #577)</p> </li> <li> <p>Video + OSD + tuning   Video transmission support, battery voltage on OSD, and tuning/airmode improvements. (#602, #621, #622, #624, #598)</p> </li> <li> <p>Sensors and AHRS   BMI088 driver + logging, updated MPU9250 registry driver, generic IMU payload, and base AHRS task. MSP sensor decoding into the FC pipeline. (#592, #552, [#536], [#540], #630)</p> </li> <li> <p>Optical flow mission   The <code>flow</code> mission is the base FC graph plus the optical flow sensor and its logging, so you can toggle it without rewriting the baseline mission. (#647)</p> </li> </ul>"},{"location":"Copper-Release-Notes/#enhancements","title":"Enhancements","text":"<ul> <li>CuError cause chaining for clearer error context. (#608)</li> <li>Default double-buffering for Copperlists. (#578)</li> <li>Cu-bincode fork to stabilize embedded serialization. (#576)</li> <li>Worktree and justfile polish for dev workflows. (#597, #605, #606, #607)</li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes","title":"Bug Fixes","text":"<ul> <li>Multi-input routing bug fixed. (#604)</li> <li>Background task determinism restored. (#533)</li> <li>Consolemon exit crash fixed. (#555)</li> <li><code>no_std</code> logmon compile fix. (#550)</li> <li>Compile test now emits distinct errors per channel. (#570)</li> </ul>"},{"location":"Copper-Release-Notes/#dependency-updates","title":"Dependency Updates","text":"<ul> <li><code>defmt</code> 1.0 (#634)</li> <li><code>buddy_system_allocator</code> 0.12 (#636)</li> <li><code>embedded-alloc</code> 0.7 (#599)</li> <li><code>linux-embedded-hal</code> 0.4 (#539)</li> <li><code>bevy</code> 0.17 (#590)</li> <li><code>iceoryx2</code> 0.8 (#587)</li> <li><code>rerun</code> 0.28 (#574)</li> <li><code>cached-path</code> 0.10 (#573)</li> <li><code>svg</code> 0.18 (#601)</li> <li><code>tui-widgets</code> 0.7 (#600)</li> </ul>"},{"location":"Copper-Release-Notes/#special-thanks","title":"Special thanks","text":"<ul> <li>Yang Zhou for release engineering work (CI refactors, parallelism, and caching) that kept the pace of this release.</li> </ul>"},{"location":"Copper-Release-Notes/#v0110-2025-11-26","title":"v0.11.0 - 2025-11-26","text":""},{"location":"Copper-Release-Notes/#high-level_1","title":"High Level","text":"<p>In this release we are introducing a new type of tasks: Bridges to help users implement multi-channel transports (serial, CAN, ELRS radios, ESC buses\u2026). Technically they are like a set of our existing sources and sinks bundled into one logical component, it makes it easier to manage state from external systems and Copper.</p> <p>This release also delivers the minimum viable set of crates to build a Copper-native flight controller! </p> <p>MSP messaging, PID control, ELRS/CRSF radio links, and bidirectional DSHOT ESCs all run in <code>no_std</code>. </p> <p>Flight controllers are only the first vertical we are bootstrapping but we will rotate through specialties (driving, etc...) to continue to give some basic components to get you started quickly with Copper.</p>"},{"location":"Copper-Release-Notes/#new-features_1","title":"New Features","text":"<ul> <li> <p>CuBridge Runtime + docs   Bridge landed end-to-end: config parsing (#490), runtime scheduling (#495), and graph APIs (#491, #500) now understand multi-channel transports with typed payloads and shared resources.    The new CuBridge Concept page explains how to declare Tx/Rx channel sets, map them in missions, and extend bridge lifecycles. A <code>cu_bridge_test</code> example (#509) pairs with the monitoring tooling    so you can dry-run bridges locally before flashing firmware.</p> </li> <li> <p>Bridge-aware monitoring &amp; graphing <code>cu_consolemon</code> renders bridges directly in the TUI DAG (#510, #511) and the live graph now matches the DOT export down to the shared transport connectors (#512, #513). </p> </li> </ul> <p></p> <p></p>"},{"location":"Copper-Release-Notes/#flight-controller-sdk-mvp-prototype","title":"Flight Controller SDK (MVP / Prototype)","text":"<p>We are waiting for a couple of rp2350-based FC boards to test it in flight but if you are interested to start developing your own, it works very well on our devkit with the SDcard logging support etc.</p> <p></p> <ul> <li>MSP everywhere (<code>no_std</code> + bridge)   The MSP library/bridge combo is now fully <code>no_std</code> and built on top of the new <code>cu_embedded_registry</code>, so you can share UART handles between copper crates on MCUs (bda362600, #516). MSP (MultiWii Serial Protocol) remains the lingua franca for controllers such as INAV, Cleanflight, and Betaflight; the bridge exposes batch Tx/Rx channels so Copper tasks can stream RC data, sensor packets, or tuning commands without rewriting MSP plumbing.</li> <li>PID controller in firmware <code>cu_pid</code> drops its <code>std</code> dependency and uses only <code>alloc</code>, letting you tune and run PID loops directly on bare-metal targets (#514). Tasks that already use the PID helper on Linux now compile unchanged for firmware.</li> <li>ELRS/CRSF bridge (<code>std</code> + <code>no_std</code>)   The radio link supports both environments, shares serial ports via the embedded registry, and routes telemetry back into Copper so you can log link quality or failsafe events alongside flight data (#498, bda362600).</li> <li>Bidirectional DSHOT (RP2350 only for now)   DSHOT is the digital ESC bus flight controllers use to send throttle commands and receive telemetry on the same wire; the RP2350 bridge drives ESCs with DSHOT800 timings, decodes the one-wire telemetry bursts, and exposes four static channels into the task graph ([#497]). MSP + PID + CRSF + DSHOT are the core building blocks for a Copper flight controller today, and extending the stack is just writing more Rust tasks/bridges.</li> </ul>"},{"location":"Copper-Release-Notes/#remote-ops-telemetry","title":"Remote Ops &amp; Telemetry","text":"<ul> <li>ELRS/CRSF remote operation stack <code>cu_crsf</code> gained the same <code>std</code>/<code>no_std</code> duality as the rest of the bridge family, so the exact radio link you use to operate a Copper robot over ExpressLRS works both on host testbeds and MCUs (#498, bda362600).    The bridge speaks CRSF for RC commands and streams link quality, battery, and failsafe telemetry down the same radio pipe, and the new <code>cu_elrs_bdshot_demo</code> shows it driving ESCs from a handheld radio out of the box.</li> </ul> <ul> <li>Bidirectional DSHOT flight stack demo <code>cu_bdshot</code> encapsulates the RP2350 PIO/DMA programming needed to control four bidirectional DSHOT ESCs and collect their telemetry ([#497]). Combined with the ELRS bridge you can run a remote pilot loop\u2014commands in, ESC telemetry out\u2014entirely in Copper.</li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_1","title":"Bug Fixes","text":"<ul> <li>The simulation generation was not able to generate a Sink proxy (replacing your actual task and callbacking the sim) if you were listening to 2 other tasks as input. This is fixed with (#512). Thank @matthewashton-k for your patience on this one.</li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_1","title":"Enhancements","text":"<ul> <li> <p>We made some monitoring TUI visual improvements (more compact, nicer icons and merging connectors) </p> </li> <li> <p>CuBridge UX polish: optional routes on bridge channels (#499) and assorted QoL cleanups (#500) make mission authoring less verbose.</p> </li> <li>Vendored TUI nodes: we now ship a patched <code>tui-nodes</code> copy tailored for bridge rendering inside <code>cu_consolemon</code>.</li> <li>Weekly CI: embedded-crate detection got smarter so ARM-only components stay exercised automatically (#507).</li> <li>Dependency refresh: <code>ron 0.12</code> (#503), <code>cudarc 0.18</code> (#504), and <code>rerun 0.27</code> (#506) keep the desktop toolchain current.</li> <li>no more rkv: After a discussion with Mozilla it was clear that they won't support the lmdb backend we used for storing our string indexes for our structured logging. We swapped the implementation to a very dumb lock + bincode dump. At some point we will improve that with a system similar to what defmt uses (that is scalable per compiled crate). </li> <li>no more console corruption: there was ways the system could quit from cu-consolemon without restoring properly the console, we fixed them (#526).</li> <li></li> </ul>"},{"location":"Copper-Release-Notes/#special-thanks_1","title":"Special thanks","text":"<ul> <li>Yang Zhou for making our Weekly CI keep up with this crazy pace of development!</li> </ul>"},{"location":"Copper-Release-Notes/#v0100-2025-10-19","title":"v0.10.0 - 2025-10-19","text":""},{"location":"Copper-Release-Notes/#high-level_2","title":"High Level","text":"<p>Major milestone: baremetal support lands across the stack, SD/eMMC logging backends, CMSIS-DAP probe workflow. RP2350 is the reference platform; examples and scripts are included.</p>"},{"location":"Copper-Release-Notes/#new-features_2","title":"New Features","text":"<ul> <li> <p>Baremetal (no_std) end-to-end   Ported core crates and runtime to <code>no_std</code> and added embedded tests to CI (#444, #446, #447, #449, #450, #451, #452, #453, #454, #455, #456, #457, #458, #459, #460, #461, #466, #467, #468)</p> </li> <li> <p>RP2350 Reference Example <code>examples/cu_rp2350_skeleton</code> a \"blinky\" example for Copper on its reference platform to get you started quickly. Pairs with docs and a formatting script for the Copper log partition on SDCards. (#467, #468)</p> </li> <li> <p>RobotClock with Calibration (baremetal + host)   New calibrated clock that accepts an external reference (RTC/GPS/etc.) on embedded and desktop; raw counter access standardized. (#478)</p> </li> <li> <p>Logging straigth to a filesystem partition: SD / eMMC logging backends   Embedded backends for unified logging (#473, #474)</p> </li> <li> <p>CMSIS-DAP probe workflow + defmt bridge   Probe defaults, <code>cargo run</code> deploy loop via probe; bridged the Copper logging to <code>defmt</code> for MCU-friendly debugging. (#470)</p> </li> <li> <p>Host vs Firmware split   Cleaner tree and CI: host utilities (incl. <code>run-logreader</code>) live outside firmware paths. (#476)</p> </li> <li> <p>More tolerant log reader   No longer panics on unclosed logs; returns an error instead. (#477)</p> </li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_2","title":"Enhancements","text":"<ul> <li>Stabilized std/no_std/sim combos and removed legacy <code>host</code> feature in favor of explicit <code>std</code> flags where applicable. (#462)  </li> <li>Config &amp; runtime refactors for embedded storage backends in <code>CuApplication</code>. (#472)  </li> </ul>"},{"location":"Copper-Release-Notes/#v091-2025-09-12","title":"v0.9.1 - 2025-09-12","text":""},{"location":"Copper-Release-Notes/#high-level_3","title":"High Level","text":"<p>Point release improving simulation control, fixing task indexing bugs, and refreshing several dependencies for long-term maintenance.</p>"},{"location":"Copper-Release-Notes/#new-features_3","title":"New Features","text":"<ul> <li><code>run_in_sim</code> for Sources &amp; Sinks (#431)   Override Copper\u2019s default sim stubbing for hardware endpoints. Useful when your sim must keep talking to external middleware (ROS bridge, Zenoh, etc.).</li> </ul> <p><code>ron   (       tasks: [           (               id: \"ros_bridge\",               type: \"tasks::RosBridgeSink\",               run_in_sim: true,  // real sink runs even in sim           ),       ]   )</code></p>"},{"location":"Copper-Release-Notes/#bug-fixes_2","title":"Bug Fixes","text":"<ul> <li>Task output index calculation fixed to select the correct output slot. (#426)</li> <li>Index into output arrays now uses <code>node_id</code> rather than <code>output_position</code>. (#430)</li> <li>Threadpool use-after-move resolved by cloning the pool correctly; improves stability for background tasks. (#416)</li> <li>cu-monitor empty status crash removed legacy workaround that caused crashes. (#415)</li> <li>Crates.io metadata corrected for publication. (#414)</li> <li>CI: disabled Windows CUDA runner until upstream action is fixed. (#424)</li> </ul>"},{"location":"Copper-Release-Notes/#dependency-updates_1","title":"Dependency Updates","text":"<ul> <li><code>ron</code> \u2192 0.11.0 (API changes adapted). (#427)</li> <li><code>pyo3</code> \u2192 0.26.0 (ported to new API). (#429)</li> <li><code>cached-path</code> \u2192 0.9.0. (#428)</li> <li><code>nalgebra</code> \u2192 0.34.0. (#420)</li> <li><code>cudarc</code> \u2192 0.17.0. (#419)</li> <li>GitHub Actions: <code>Jimver/cuda-toolkit</code> 0.2.26 \u2192 0.2.27. (#425)</li> <li>GitHub Actions: <code>actions/checkout</code> v5. (#423)</li> </ul>"},{"location":"Copper-Release-Notes/#v090-2025-07-31","title":"v0.9.0 - 2025-07-31","text":""},{"location":"Copper-Release-Notes/#high-level_4","title":"High Level","text":"<p>This release is primarily driven by user requests. It introduces a full transform library (\u00e0 la tf2 for ROS), new keyframes in the logs, background tasks, a log checker, and a set of runtime and logging tuning parameters to better adapt to constrained environments.</p>"},{"location":"Copper-Release-Notes/#api-change","title":"API Change","text":"<p>The task API now uses finer-grained lifetimes for input and output types. This provides greater flexibility when testing tasks and was necessary to support the implementation of background tasks:</p> <p>Old API:</p> <pre><code>\nimpl&lt;'cl&gt; CuSrcTask&lt;'cl&gt; for FlippingSource {\n    type Output = output_msg!('cl, RPGpioPayload);\n\n    fn process(&amp;mut self, clock: &amp;RobotClock, output: Self::Output) -&gt; CuResult&lt;()&gt; {\n        self.state = !self.state;   // Flip our internal state and send the message in our output.\n        output.set_payload(RPGpioPayload {\n            on: self.state,\n            creation: Some(clock.now()).into(),\n            actuation: Some(clock.now()).into(),\n        });\n        Ok(())\n    }\n}\n\n</code></pre> <p>There are two changes required to port your tasks:</p> <ol> <li>The lifetime has moved from <code>&lt;'cl&gt;</code> on the task struct to <code>&lt;'m&gt;</code> on the <code>Input</code> and <code>Output</code> types.</li> <li>The <code>process</code> method now takes explicit references: <code>&amp;</code> for input and <code>&amp;mut</code> for output.</li> </ol> <pre><code>\nimpl CuSrcTask for FlippingSource {\n    type Output&lt;'m&gt; = output_msg!(RPGpioPayload);\n    #          ^^^^\n\n    fn process(&amp;mut self, clock: &amp;RobotClock, output: &amp;mut Self::Output&lt;'_&gt;) -&gt; CuResult&lt;()&gt; {\n        #                                             ^^^^             ^^^^\n        self.state = !self.state;   // Flip our internal state and send the message in our output.\n        output.set_payload(RPGpioPayload {\n            on: self.state,\n            creation: Some(clock.now()).into(),\n            actuation: Some(clock.now()).into(),\n        });\n        Ok(())\n    }\n}\n\n</code></pre>"},{"location":"Copper-Release-Notes/#new-component-cu_transform","title":"New Component: <code>cu_transform</code>","text":"<p>The <code>cu_transform</code> crate provides real-time spatial and velocity transformations for Copper, with support for hierarchical frames, interpolation, and zero-allocation caching.</p> <p>Huge thank you to @makeecat for this feature!</p>"},{"location":"Copper-Release-Notes/#features","title":"Features","text":"<ul> <li>Homogeneous matrix representation of 3D transforms  </li> <li>Time-stamped pose updates and interpolated lookups  </li> <li>Hierarchical transform tree with parent-child frames  </li> <li>Velocity computation via transform differentiation  </li> <li>Rigid-body velocity frame transformations  </li> <li>High-performance caching for repeated transform/velocity queries  </li> <li>Zero-allocation for real-time performance</li> </ul>"},{"location":"Copper-Release-Notes/#example-pose-lookup","title":"Example: Pose Lookup","text":"<pre><code>    use cu_transform::{StampedTransform, TransformTree, Transform3D};\n    use cu29::clock::CuDuration;\n\n    let mut tree = TransformTree::&lt;f32&gt;::new();\n    tree.add_transform(StampedTransform {\n        transform: Transform3D::default(),\n        stamp: CuDuration(1000),\n        parent_frame: \"world\".try_into()?,\n        child_frame: \"robot\".try_into()?,\n    })?;\n\n    let pose = tree.lookup_transform(\"world\", \"robot\", CuDuration(1000))?;\n</code></pre>"},{"location":"Copper-Release-Notes/#example-velocity-lookup","title":"Example: Velocity Lookup","text":"<pre><code>    use cu_transform::TransformTree;\n    use cu29::clock::CuDuration;\n\n    let velocity = tree.lookup_velocity(\"world\", \"robot\", CuDuration(1500))?;\n    let linear = velocity.linear_velocity();\n    let angular = velocity.angular_velocity();\n</code></pre> <p>This component is ideal for real-time robotic applications needing fast, correct spatial and motion reasoning across dynamic coordinate frames.</p>"},{"location":"Copper-Release-Notes/#new-features_4","title":"New Features","text":"<ul> <li>background tasks: we now have a best effort asynchronous task type. Be careful to use memory handles if you feed them a large amount of data has the input and output need to be copied to allow the asynchronism to work. How to use it? just add background: true to any CuTask (not Src nor Sink).</li> </ul> <pre><code>(\n    tasks: [\n        (\n            id: \"task1\",\n            type: \"tasks::ExampleTask\",\n            background: true,  // that's it\n        ),\n    ]\n</code></pre> <p>The result will be set in a random future CopperList so for the downstream tasks keep a close eye on the <code>input.tov</code> field to know from where this message is coming from.</p> <p>Note: We have not implemented the deterministic replay yet for those, but it will come in an upcoming release.</p> <ul> <li>logreader fsck: we now have a cool tool to not only check for the consistency of a Copper log and giving you some explanation of any corruption, it gives out some cool statistics about the logs:</li> </ul> <pre><code>pal \u279c  cu_caterpillar (master) cargo run -r --bin cu-caterpillar-logreader logs/caterpillar.copper fsck                                             \n\nThe log checked out OK.                                                                                                                             \n\n          === Statistics ===                                                                                                                          \n  Total time       -&gt; 1.481 s                                                                                                                       \n  Total used size  -&gt; 14,120,984 bytes                                                                                                              \n  Logging rate     -&gt; 9.09 MiB/s (effective)                                                                                                        \n\n  # of CL          -&gt; 20,303                                                                                                                        \n  CL rate          -&gt; 13,708.96 Hz                                                                                                                  \n  CL total size    -&gt; 10,384,994 bytes                                                                                                              \n\n  # of Keyframes   -&gt; 3                                                                                                                             \n  KF rate          -&gt; 2.03 Hz                                                                                                                       \n  KF total size    -&gt; 28 bytes                                                                                                                      \n\n  # of SL entries  -&gt; 162,433                                                                                                                       \n  SL total size    -&gt; 3,735,962 bytes \n\n</code></pre> <ul> <li>Added a runtime rate target configuration (#410): Copper can be too fast, especially with the introduction of background tasks. We added a way to rate limit the CopperList creation, exactly like a frame rate limiter would work in games because probably your robot doesn't need 500KHz refresh rates normal use cases.</li> </ul> <p>For example limit at 100Hz:</p> <pre><code>(                                                                                                                                                                                             \n    runtime: (                                                                                                                                                                                \n        rate_target_hz: 100,                                                                                                                                                                    \n    ),                                                                                                                                                                                        \n    tasks: [\n</code></pre> <ul> <li>Adds a way to disable logging for some tasks. (#407)</li> </ul> <p>With the determinism built in Copper, you might not want to log everything. We added a way to disable the logging of any task output. It will keep the metadata of the output though (Time of Validity, Status string ....)</p> <pre><code>\n    tasks: [\n        (   // Normal\n            id: \"task0\",\n            type: \"tasks::ExampleSrc\",\n        ),\n        (\n            id: \"task1\",\n            type: \"tasks::ExampleTask\",\n            logging: (\n                enabled: false,  // HERE, no more logging for this one\n            )\n\n        ),\n</code></pre> <ul> <li>Keyframes (#369): Now Copper is able to record \"keyframe\" ie. the serialized state of all the tasks during runtime, sim or resim. This will allow nifty debugger features.</li> <li>force Serialize implementation on CuMsg: This guarantees that the log reader can at least reexport the messages to all the SerDe backends.</li> <li>cu-dorabench: a new benchmark more geared toward bandwith more than just latency.</li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_3","title":"Enhancements","text":"<ul> <li>CuStampData: a lot of robotics data needs to be timestamped and this is also true for the CuMsg between tasks. We have generalized this concept so you can use a contained with a time of validity and arbitrary metadata for your own internal use in your tasks and libraries.</li> </ul> <pre><code>// CuMsg is now defined as\ntype CuMsg&lt;P&gt; = CuStampData&lt;P, CuMsgMetadata&gt;; \n\n// And now TOV (the time of validity for this temporal data) is directly accessible in the main object instead of the metadata\nlet mut m: CuMsg&lt;u32&gt; = CuMsg::new(12);\nm.tov = CuDuration(1000).into();\n\n// You can define temporal data types for yourself for example\ntype MyTemporalData = CuStampData&lt;f64, ()&gt;;\n\n// And use them directly as a field in your tasks.\n</code></pre> <ul> <li>resim implemented for cu-caterpillar (#364): added that to our venerable example to test out various logger features easily.</li> <li>cargo cubuild (#365): helps you debug when a change causes a code compilation error in the generated code. Just use that instead of <code>build</code> and it will insert the generated code at the macros spot and compile it.</li> <li>CuCompactString: Better log and debug output showing the string nicely.</li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_3","title":"Bug fixes","text":"<ul> <li>Unified Logger Poisoned lock (#390): We had a cascading error when the main thread would panic and drop the logger.</li> <li>Task DAG in the Monitoring UI is slow (#391): Thanks to Matthew Ashton-Knochel from working with tui-nodes folks to optimise the direct rendering mode of it.</li> <li>Restored the original log debug behavior (#381): if nothing is specified -&gt; debug builds enable log-debug, -&gt; release buids enable log-info.  if anything is specified, it will repect the user's choice.</li> <li>Unconditionally install ctrl-c handler (#375): instead of relying on user's code to handle that as it can cause easy log corruption.</li> <li>Fix CuCompactString initialization CuListsManager (#409): a zero init of the copper list created status strings that are all 24x <code>\\\\0</code>. This fixes it with a correct initialzation that set them at length 0 instead. It was wasting a bunch of log space for no reason.</li> </ul>"},{"location":"Copper-Release-Notes/#dependency-updates_2","title":"Dependency updates","text":"<ul> <li>socket2 -&gt; 0.6.0</li> <li>cuda-toolkit -&gt; 0.2.26</li> <li>gstreamer &amp; gstreamer-app -&gt; 0.24</li> <li>rerun -&gt; 0.24</li> <li>glam -&gt; 0.30.x</li> <li>thiserror -&gt; 2.x</li> </ul>"},{"location":"Copper-Release-Notes/#v080-2025-05-26","title":"v0.8.0 - 2025-05-26","text":""},{"location":"Copper-Release-Notes/#high-level_5","title":"High level","text":"<p>This release has been focused on Zenoh and ROS2 interoperability, modular configuration for larger robots with a new support for the notion of \"mission\" (aka mode like autonomy mode, datacollect mode etc..)</p>"},{"location":"Copper-Release-Notes/#new-features_5","title":"New Features","text":"<ul> <li> <p>Copper to ROS2 Integration: We now support streaming Copper data directly to ROS2 (rwm_zenoh). This includes a working example bridging Copper tasks to ROS2 nodes and a translation layer for Copper message representations.   See PR #348.</p> </li> <li> <p>Zenoh Sink: Added a <code>zenoh_sink</code> component to forward Copper messages to any other Zenoh participant with the serialization of your choice.   Thanks to @kamibo (#316).</p> </li> <li> <p>Missions System: You can now define and generate missions from RON, with automatic default fallback. Missions are properly serialized, structured, and support reuse through includes.   (#337, #294)</p> </li> <li> <p>Modular Configuration System: Copper now supports reusable and parameterized config files. This feature introduces relative/absolute file includes, parameter substitution using <code>{{param}}</code> syntax, and well-defined merging rules. You can now split large config files into logical components and reuse templates with different parameters.   Example templates are included under the <code>modular_config_example</code> directory.   Thanks to @makeecat (#328)</p> </li> <li> <p>Memory Pool Monitoring UI: Copper's monitoring console <code>cu-consolemon</code> now includes a dedicated page to visualize memory pool usage in real time. It displays total preallocated memory, in-use buffers, memory handles in flight, and the allocation rate. This provides better observability into buffer-heavy pipelines using CopperLists and memory pools.   Thanks to @makeecat for implementing this! (#190)</p> </li> <li> <p>CuRateLimit Task: A new <code>CuRateLimit</code> task lets you easily throttle any message flow without modifying the producing task.   See #343.</p> </li> <li> <p>Copper Application Trait: Introduced a trait to generalize Copper applications. Enables grouping and dynamic handling of mission-defined applications.   (#345)</p> </li> <li> <p>Nix Setup: Introduced Nix setup for Linux, supporting CUDA / non-CUDA environment. Thanks to @makeecat! (#332)</p> </li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_4","title":"Enhancements","text":"<ul> <li>Compile-time log-level macro: Copper now supports compile-time log filtering for logs. This feature lets you fully disable logging macros at compile time by enabling only the relevant features in <code>Cargo.toml</code>. It introduces a <code>log-level</code> field in <code>CuLogEntry</code>, and updates serialization, formatting, and documentation accordingly. Thanks to @makeecat! (#318) Example usage:</li> </ul> <pre><code>[dependencies]\ncu29 = { version = \"0.7.0\", features = [\"log-level-debug\"] }\n</code></pre> <ul> <li> <p>CuGraph Separation: Graph-related functionality has been extracted into its own module to reduce coupling between configuration and execution layers.   (#334)</p> </li> <li> <p>Bevy 0.16 Support: Copper is now compatible with Bevy 0.16, including updated patches for asset loading and avian3d.   Thanks to @makeecat (#303).</p> </li> <li> <p>Support for iceoryx2 v0.6.1: Iceoryx2 backend updated and patched accordingly.   (#338)</p> </li> <li> <p>Dockerization of ros-caterpillar: <code>ros-caterpillar</code> has been fully containerized to deal with OS dependency hell. It is now portable and future-proof.   (#348)</p> </li> </ul>"},{"location":"Copper-Release-Notes/#dependency-bumps","title":"Dependency Bumps","text":"<ul> <li><code>iceoryx2-bb-log</code> bumped to 0.6.1 (#340)</li> <li><code>uom</code> bumped to 0.37.0 (#339)</li> <li>Other crates: <code>cached-path</code>, <code>iyes_perf_ui</code>, <code>faer</code>, <code>ron</code>, <code>petgraph</code>, <code>nix</code>, etc. updated to support Bevy 0.16 and latest Rust editions.</li> </ul>"},{"location":"Copper-Release-Notes/#v070-2025-03-14","title":"v0.7.0 - 2025-03-14","text":""},{"location":"Copper-Release-Notes/#high-level_6","title":"High level","text":"<p>This release added a set of feature useful to develop autonomy algorithms on Drone (MSP). We also have a solid set of quality of life improvements derived from real usage.</p>"},{"location":"Copper-Release-Notes/#notable-regression","title":"Notable regression","text":"<ul> <li>bincode after 4 years stuck at the 2.0.0-rc3 decided to release the 2.0.0 and it broke the API. This release updates all our API calls. The good news is that decoding in memory pools are now supported, it will be useful.</li> </ul>"},{"location":"Copper-Release-Notes/#new-features_6","title":"New Features","text":"<ul> <li>gstreamer support</li> </ul> <p>You can define arbitraty gstreamer pipeline and hook it as an appsink to Copper are a SrcTask #239</p> <p>This for example a source that will get the camera from your robot, stream it to a host on your network for live display but also convert it to GRAY8 and inject it to the Copper task graph.</p> <pre><code>        (\n            id: \"video\",\n            type: \"cu_gstreamer::CuDefaultGStreamer\",\n            config: {\n                \"pipeline\": \"v4l2src device=/dev/video9 ! image/jpeg,width=1920,height=1080 ! tee name=t t. ! queue ! jpegdec ! videoconvert ! appsink name=copper t. ! queue ! jpegparse ! rtpjpegpay ! udpsink host=192.168.1.73 port=5000\",\n                \"caps\": \"video/x-raw, format=GRAY8, width=1920, height=1080\",\n            },\n        ),\n\n</code></pre> <ul> <li>Dynamic Threshold. A quick 0 copy implementation using an integral image. #244</li> </ul> <p></p> <ul> <li>April Tag support. It can give you the relative pose of tags from images. #246</li> </ul> <pre><code>        (\n             id: \"pos\",\n             type: \"cu_apriltag::AprilTags\",\n             config: {\n                 \"tag_family\": \"tag16h5\",\n                 \"tag_size\": 0.14,\n                 \"fx\": 1513.93,\n                 \"fy\": 1513.93,\n                 \"cx\": 946.84,\n                 \"cy\": 557.819,\n             },\n        ),\n</code></pre> <ul> <li>MSP (MultiWii Serial Protocol)</li> </ul> <p>This is a communication protocol used on drones with INAV, cleanflight, betafligh #248 </p> <ul> <li>Added 2 new robotics standard messages: Transform3D and Pose #245</li> </ul> <p>They can be transformed back and forth with <code>into()</code> from Faer and Nalgebra so you can integrate that to your robotics algorithms smoothly.</p> <pre><code>       let pose = Transform3D {\n            mat: [\n                [1.0, 2.0, 3.0, 4.0],\n                [5.0, 6.0, 7.0, 8.0],\n                [9.0, 10.0, 11.0, 12.0],\n                [13.0, 14.0, 15.0, 16.0],\n            ],\n        };\n</code></pre>"},{"location":"Copper-Release-Notes/#quality-of-life-improvements","title":"Quality of life improvements","text":"<ul> <li>The <code>Cu29</code> crate has a new global debug_macro feature to be able to see any generation (runtime, structured logging, SOAs etc...) #247</li> <li>PyO3 (the python bindings for log reading) is now an optional feature #240 Thanks Mike Kaliman!</li> <li>The Input order in the tuples of tasks receiving messages from more than one taask is now determined by their order of connection #251 Thanks @hscoelho!</li> <li>Better feedback when a task sends an error to the runtime. Ie. now it actually triggers a debug! with the error description instead of just giving you the result of the monitoring behavior.</li> <li>CuTime now support Copy which makes clock forwarding more immediate.</li> <li>Bevy perf-ui is back (overlay for bevy) and can be used in your simulations (see cu-balancebot) #263 Thanks @AS1100K!</li> </ul> <p>And finally special thanks to @makeecat for the ongoing help on the CI/CD that starts to be a complicated piece of machinery at this point.</p>"},{"location":"Copper-Release-Notes/#v060-2025-01-20","title":"v0.6.0 - 2025-01-20","text":""},{"location":"Copper-Release-Notes/#new-features_7","title":"New Features","text":"<ul> <li> <p>Images support: We added the API to make a pool instance and bind is as a [u8] for an image buffer, see below about Memory Pools.</p> </li> <li> <p>Video For Linux 2 support: We built a V4L2 source so you can read images directly from you video system on Linux. The component is named <code>cu_v4l</code> here are an example of parameters to can set in your RON file:</p> </li> </ul> <pre><code>   config: {\n      \"device\": 0,       // The /dev/video0 device\n      \"width\": 3840,     // Width asked\n      \"height\": 2160,    // Height asked\n      \"fps\": 30,         // image rate\n      \"fourcc\": \"NV12\",  // buffer format\n      \"buffers\": 4,      // how many buffers you want to allocate\n      \"timeout_ms\": 500, // time before giving up on trying to get a frame\n  }\n</code></pre> <p>https://github.com/user-attachments/assets/0858026d-bf92-418f-9525-3df5d5de9b70</p> <ul> <li> <p>Computer Vision: Kornia API support: Kornia is an awesome Computer Vision set of algorithms. The 2 projects cooperated to we can map Copper images to Kornia and Kornia can accept them with 0 copy! Check out the Kornia-rs project. Big thanks to the creator of this project Edgar Riba for his support! </p> </li> <li> <p>0-Copy Heterogeneous Memory Pools: Said wut?</p> </li> </ul> <p>Before this release anything the tasks would touch (as input or output) would have been needed to be copied in the CopperList ie. the backing structure that makes Copper so fast and low latency with no synchronization etc. Building a complex robot is the art of having not only low latency like this but also large throughput: this is the large throughput side of Copper for modern computer architectures!</p> <p>You can create large memory buffers pools either in main host memory or on a \"device\" for example a GPU (this is what heterogeneous memory means) and Copper will give you memory handles that you can use to:    - pass the memory to another task    - pass the memory to the accelerator that can use it (for example CUDA kernels see below)    - pass the memory to a DMA backed driver (see the new V4L driver below)</p> <p>For you developer, it means that you can safely stream multi-megabytes structures (Images, Matrices, PointClouds etc..) at no cost and you also buffer them in tasks if you need to keep them for a few cycle more (for temporal alignment for example).</p> <ul> <li>New Basic Livox Lidar Tele15 Driver:  </li> </ul> <p>Thanks to @luc-k1 from Konboi One.</p> <ul> <li>New Debug log pane in cu-consolemon: Before that you had to choose between the cool TUI and the text log (that was hidden behind) but thanks to @AS1100K effort we now have a tab that can capture your debug logs! (it is only enabled if you want them as they are expensive to build and if the app is build in debug mode).</li> </ul> <p></p> <ul> <li>Pcap replay support: for drivers reading data from the network, it is very common to build a test set from network capture. This is a little tool that help driver developer to inject those capture and build a small test data set to validate their driver.</li> </ul> <p></p> <ul> <li>Quicksort on PointCloud SOA ts: Sorting by time of validity allows the points to get merged more efficiently.</li> </ul> <p></p> <p>2 lidar sources getting merged.</p>"},{"location":"Copper-Release-Notes/#enhancements_5","title":"Enhancements","text":"<ul> <li>Prelude: we drastically simplified the imports for Copper, now you just need to do:</li> </ul> <pre><code>use cu29::prelude::*;\n</code></pre> <p>And you are good to go for starting Copper, creating tasks, etc...</p> <ul> <li> <p>More flexible project generation: The template will ask you which version of Copper you want to generate your project for. </p> </li> <li> <p>Log parameter in RON: Added the section_size parameter in the RON file. It is useful to tune your logging throughput.</p> </li> <li> <p>Builder pattern for the Copper Application: we made the CopperContext official and change the app init to be with a cool builder pattern like:</p> </li> </ul> <pre><code>  let mut application = CaterpillarApplicationBuilder::new()\n        .with_context(&amp;copper_ctx)\n        .build()\n        .expect(\"Failed to create application.\");\n</code></pre> <p>Thanks to @hscoelho for this one!</p> <ul> <li> <p>Log disable: Now you can disable task logging completely (if you know you won't need the data). Thanks to @AS1100K!</p> </li> <li> <p>Better feedback on configuration snafu: We improved the clarity of the messages given to the user with a line number if possible in case of misconfiguration... Thanks again to @AS1100K!</p> </li> <li> <p>Full dependency update: Enjoy the latest Bevy, the latest Rerun, the latest everything thanks to @makeecat. This includes the new picker that has been integrated to Bevy.</p> </li> <li> <p>Logger Parameters Consistency: We now check if the various parameters of the unified logger makes sense ie. section not larger than slabs etc.. that avoids a lot of user confusion.</p> </li> <li> <p>Clippy escaped our CI/CD again but thanks to an heroic effort from @makeecat we have a major improvement on our CI/CD to cross check all the platforms, features and configurations.</p> </li> <li> <p>-= op on CuTime, it is useful to compute quickly time offsets.</p> </li> <li> <p>ScopedAllocCounter: we improved their use by exposing a sane public API so you can check if you or one of your dependency is allocating in a given scope. Thanks to Zac8668</p> </li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_4","title":"Bug Fixes","text":"<ul> <li> <p>X11 support for Bevy on Linux: Apparently some people have not migrated to Wayland yet :P. Thanks @Paulotten</p> </li> <li> <p>Missing ./logs would make cu-balancebot-sim crash: thanks @vsenn for reporting this.</p> </li> </ul>"},{"location":"Copper-Release-Notes/#v051-2024-12-05","title":"v0.5.1 - 2024-12-05","text":""},{"location":"Copper-Release-Notes/#new-features_8","title":"New Features","text":"<ul> <li> <p>Microsoft Windows Compatibility is finally complete #129: So many thanks to @Lishen_ for the unwaivering bruteforce port.</p> </li> <li> <p>Rerun visualization for pointclouds #131: Added an example to start and feed rerun visualization with our standard pointcloud</p> </li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_6","title":"Enhancements","text":"<ul> <li> <p>BalanceBot Simulation perf overlay #137: Now you can activate the <code>perf-ui</code> feature to see if the bevy side of the simulation is working well in a diag overlay.</p> </li> <li> <p>Iterators For SOAs (Struct of arrays) #134: SOAs can generate an iterator for a quick SOA to AOS transform and natural API.</p> </li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_5","title":"Bug Fixes","text":"<ul> <li> <p>BalanceBot Simulation Issues #137: Resolved a waste of resources on <code>balancebot-sim</code> (the bevy entities were created over and over). Thanks to @Nashenas88 for spotting the issure and the initial fix.</p> </li> <li> <p>Pointcloud payload and Hesai structs visibility fix #132 &amp; #133: Snafu as they were published with no client crates.</p> </li> <li> <p>Multiple gammar fixes #125: Thanks to @AnyTimeTraveler for all the corrected Frenglish.</p> </li> </ul>"},{"location":"Copper-Release-Notes/#v050-2024-12-02","title":"v0.5.0 - 2024-12-02","text":""},{"location":"Copper-Release-Notes/#new-features_9","title":"New Features","text":"<ul> <li> <p>Deterministic Log Replay: Copper can now replay a log through your code in a deterministic fashion ie. if your tasks are deterministic, it will always output the same output from the same input! See the balancebot-resim for example. </p> </li> <li> <p>Aligner Task #114: Added an aligner task that synchronizes multiple inputs by aligning matching time windows, facilitating coordinated data processing. This is particularly useful for sensor fusion. </p> </li> <li> <p>:exclamation: Lifecycle Trait Removal #115: Removed the lifecycle trait to simplify task implementation and decouple passed types, streamlining the codebase. To build a minimum task a user needed to implement one method from the CuTaskLifecycle trait (new) and at least the process method from they flavor of tasks. This was forcing the implementation of 2 mandatory traits which is not necessary or useful for the user. Now we moved all the lifecycle methods in the tasks trait to only have to implement 2 traits (the task and Freezable, the serialization of its state) </p> </li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_7","title":"Enhancements","text":"<ul> <li> <p>Named Output Mapping on CopperLists #121: Implemented mapping of Copperlist indices to named outputs from tasks, allowing users to access task outputs symbolically without relying on execution order.</p> </li> <li> <p>CuTimeRange Introduction #106: Introduced <code>CuTimeRange</code> to represent messages containing multiple Time of Validity (TOV) instances, such as sequences of images or IMU measurements.</p> </li> <li> <p>Windows Compatibility #110: Enhanced compatibility by adding a mock for <code>cu_ads7883</code>, enabling compilation on Windows platforms.</p> </li> <li> <p>Dependency Updates #104: Performed a general dependency bump post-release to incorporate the latest improvements and fixes.</p> </li> <li> <p>Faster SOA ops: adding len to the public API allows quicker preallocations.</p> </li> <li> <p>f32 shortcut for dimensions and reflectivity for Lidars: simple from f32 makes it easier to not deal too much with the units.</p> </li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_6","title":"Bug Fixes","text":"<ul> <li> <p>BalanceBot Simulation Stability #118: Resolved a core dump issue on exit for <code>balancebot-sim</code> by enforcing specific graphics backends, ensuring clean termination.</p> </li> <li> <p>CuCompactStr Serialization #119: Fixed serialization and deserialization issues with <code>CuCompactStr</code> to ensure correct data handling.</p> </li> <li> <p>Project Generation Fix #120: Addressed issues in project generation by adding <code>crate::</code> for <code>cumsgs</code> generation, ensuring correct module resolution.</p> </li> <li> <p>Unused Code Cleanup #121: Removed unused imports and methods to maintain code cleanliness and reduce potential maintenance overhead.</p> </li> <li> <p>Test Stability #107: Ignored hardware-dependent tests and added <code>test --workspace</code> to CI/CD to enhance test reliability across different environments.</p> </li> </ul>"},{"location":"Copper-Release-Notes/#v041-2024-11-15","title":"v0.4.1 - 2024-11-15","text":""},{"location":"Copper-Release-Notes/#new-features_10","title":"New Features","text":"<ul> <li>Iceoryx2 Support #87: Introduced Iceoryx2 support. Iceoryx2 is the successor to Iceoryx in pure Rust. The Copper support included a source component to receive messages, a sink component to send messages.</li> <li>Hesai XT32 Support #101: Added the preliminary support for the Hesai XT32. If you have the actual HW handy, feel free to provide us the feedback!</li> <li>First standard Lidar Message Design #99: For now in SOA out or the lidar sensors it allows SIMD optimizations for the first operations that are usually a frame transform.</li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_8","title":"Enhancements","text":"<ul> <li>Variable-Length SoAs #100: Improved <code>SoA</code> (Structure of Arrays) to support variable lengths on top of their fixed size in the Copper List.</li> <li>CI Improvements #98: Integrated clippy warnings into CI, thanks to makeecat</li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_7","title":"Bug Fixes","text":"<ul> <li>BalanceBot Simulation Reset #86: Improved the <code>reset_sim</code> functionality for the balance bot. Thanks to makeecat.</li> <li>Publishing Fixes #103: Resolved various publishing issues and added dry-run validations to avoid disruptions.</li> </ul>"},{"location":"Copper-Release-Notes/#v040-2024-10-29","title":"v0.4.0 - 2024-10-29","text":""},{"location":"Copper-Release-Notes/#new-features_11","title":"New Features","text":"<ul> <li>Simulation API Support: With sim-mode=true in the main Copper macro, Copper will generate for you all the callbacks at all the tasks states it is going through (Start, Preprocess, Process, etc...). Combined with the already mockable Clock it allows a very easy integration with a virtual environment.</li> <li>BalanceBot Simulation #69:  Built on that and leveraging Bevy and Avian3D for realistic motion dynamics, we made a little demo of our little real world demonstrator. The real world code and the sim code are 100% identical.</li> <li>Config Embedding #78: Embedded the default <code>copperconfig.ron</code> directly into the Copper executable, simplifying deployment for the main case (just one executable to copy and that's it!!). If the file is present, it will take precedence over the embedded version. We also do log the actual config used in the logs so you can come back to it in doubt.</li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_9","title":"Enhancements","text":"<ul> <li>Cross-Platform Compatibility for Mocking #75: Enhanced feature flags to better support various platforms, particularly macOS, enabling testing with mocked hardware dependencies. The full repo now compile under CI/CD on MacOS and Linux (previously it we could only compile and test the Core)</li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_8","title":"Bug Fixes","text":"<ul> <li>Terminal Restoration #73: Fixed issues with terminal states not restoring properly upon exit, preventing corruption and enhancing the overall stability of simulator sessions.</li> <li>Print Output Cleanup #80: Streamlined console logging to minimize redundant or unnecessary print statements, making debugging output more manageable.</li> <li>Git LFS Migration #76: Moved heavy assets to a CDN to mitigate GitHub LFS limitations, reducing operational overhead and streamlining asset distribution.</li> </ul>"},{"location":"Copper-Release-Notes/#infrastructure-and-cicd","title":"Infrastructure and CI/CD","text":"<ul> <li>Asset CDN Integration #35: Transitioned assets to a content delivery network to avoid the super costly Github LFS.</li> <li>Improved Documentation #82: Expanded and refined documentation across modules, enhancing clarity for new users and developers.</li> </ul>"},{"location":"Copper-Release-Notes/#internal-refactoring","title":"Internal Refactoring","text":"<ul> <li>Logging Value Enhancements #80: Fine-tuned value logging to increase logging granularity and simplify troubleshooting in complex simulation states.</li> <li>Feature Flag Revamp #75: Restructured feature flags to better support debugging and cross-platform configurations, especially for macOS compatibility.</li> </ul>"},{"location":"Copper-Release-Notes/#v031-2024-10-12","title":"v0.3.1 - 2024-10-12","text":"<p>A Minor release with 2 new components and some fixes.</p>"},{"location":"Copper-Release-Notes/#new-components","title":"New Components","text":"<ul> <li> <p>New cu-pid task: this is the first algorithm we publish. It is from the balancebot, a generalized PID controller logic you can reuse in your projects, see the readme in the crate.</p> </li> <li> <p>New cu-consolemon monitoring: this is a TUI for Copper showing the information exposed by the new monitoring interface released in 0.3.0.</p> </li> </ul>"},{"location":"Copper-Release-Notes/#api-improvements","title":"API improvements","text":"<ul> <li>Added <code>Mul</code> to <code>CuDuration</code> for easy time offset computations.</li> </ul>"},{"location":"Copper-Release-Notes/#various","title":"Various","text":"<ul> <li>Tree Reorganization:</li> <li>Major reorganization of the repository structure for improved clarity and maintainability.</li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_9","title":"Bug Fixes","text":"<ul> <li>Logging Fixes:</li> <li>Resolved an issue where <code>OnceLock</code> was not releasing the unified logger, preventing a clean shutdown of the logger.</li> <li>Addressed an issue with a double close in the logger during shutdown.</li> </ul>"},{"location":"Copper-Release-Notes/#v030-2024-09-30","title":"v0.3.0 - 2024-09-30","text":"<p>This alpha release introduces substantial improvements to the Copper framework's monitoring capabilities and API flexibility.</p>"},{"location":"Copper-Release-Notes/#highlights","title":"Highlights","text":"<ul> <li>New multisource and optional input API: The Copper engine now supports multiple and optional inputs/outputs (see PR #44).</li> </ul> <p>This is a breaking change.</p> <p>Now you can link 2 tasks to one in the RON file like this:</p> <pre><code>\n    tasks: [\n        (\n            id: \"balpos\",\n            type: \"cu_ads7883::ADS7883\",\n        ),\n        (\n            id: \"railpos\",\n            type: \"cu_rp_encoder::Encoder\",\n        ),\n        (\n            id: \"pidctrl\",\n            type: \"pidtask::PIDTask\",\n            config: {\n               [...]\n            },\n        ),\n        (\n            id: \"motor\",\n            type: \"cu_rp_sn754410::SN754410\",\n            [...]\n        ),\n     ],\n    cnx: [\n        //                    vvvvvvvvvv   same dest!\n        (src: \"balpos\",   dst: \"pidctrl\",   msg: \"cu_ads7883::ADSReadingPayload\"),\n        (src: \"railpos\",  dst: \"pidctrl\",   msg: \"cu_rp_encoder::EncoderPayload\"),\n        (src: \"pidctrl\",  dst: \"motor\",   msg: \"cu_rp_sn754410::MotorPayload\"),\n    ],\n)\n\n</code></pre> <p>To help you manage the types that are generated, we are giving a set of macros to help you matching the correct input / output types:</p> <pre><code>impl&lt;'cl&gt; CuTask&lt;'cl&gt; for PIDTask {\n    // This tasks takes 2 inputs!\n    // They are given in the order of task declaration\n    // the input_msg! macro build a (&amp;CuMsg&lt;ADSReadingPayload&gt;, &amp;CuMsg&lt;EncoderPayload&gt;) tuple under the hood.\n    // it also works with 1 input and then you will get a straight &amp;CuMsg&lt;&gt; immutable ref.\n    // For technical Rust reasons, you need to explicitely tie the lifetime ('cl means copperlist if you are curious: the internal structure of copper for messages)\n    type Input = input_msg!('cl, ADSReadingPayload, EncoderPayload);\n\n    // same thing but as an output this is a &amp;mut CuMsg&lt;MotorPayload&gt;\n    type Output = output_msg!('cl, MotorPayload);\n\n    fn process(\n        &amp;mut self,\n        clock: &amp;RobotClock,\n        input: Self::Input,  // here this is now straight the input type, it is a little simpler.\n        output: Self::Output,\n    ) -&gt; CuResult&lt;()&gt; {\n        let (bal_pos, rail_pos) = input;  // you can unpack the tuple directly those are resp. &amp;CuMsg&lt;ADSReadingPayload&gt; and &amp;CuMsg&lt;EncoderPayload&gt;\n        let bal_tov = bal_pos.metadata.tov.expect(\"we should have had a message here!\");  // the messages are now optional depending on the context they could be expected or really optional.\n        // we have a new method called set_payload for the output\n        output.set_payload(MotorPayload { power: 0.0 }); // If you don't do that it will send away a message with a None payload\n</code></pre> <ul> <li>Monitoring System: The monitoring framework is now fully integrated, allowing real-time stats collection and cumulative statistics (see PRs #49, #50, and #51). We can imagine complex decision trees happening at that stage for complex robots and various degraded modes.</li> </ul> <p>The monitoring component is really similar to a task, but with specialized callbacks:</p> <pre><code>// This is in the RON file, just add a monitor entry like this:\n\n    tasks: [\n        (\n            id: \"task0\",\n            type: \"tasks::ExampleSrc\",\n        ),\n        [...]\n     ],\n    cnx: [\n        (src: \"task0\", dst: \"task1\", msg: \"i32\"),\n        [...]\n    ],\n    monitor: (type: \"ExampleMonitor\")  // here, add a config entry if necessary\n)\n</code></pre> <pre><code>struct ExampleMonitor {\n    tasks: &amp;'static [&amp;'static str], // We give you the task ordinal to task id mapping (so it is stable as long as you don't change your task ids.\n}\n\nimpl CuMonitor for ExampleMonitor {\n    // We pass you the config you gave in the RON file exactly like for the tasks.\n    fn new(_config: Option&lt;&amp;ComponentConfig&gt;, taskids: &amp;'static [&amp;str]) -&gt; CuResult&lt;Self&gt; {\n        Ok(ExampleMonitor { tasks: taskids })\n    }\n\n    fn start(&amp;mut self, clock: &amp;_RobotClock) -&gt; CuResult&lt;()&gt; {\n        // callbacked when all the tasks, start called.\n    }\n\n    fn process_copperlist(&amp;self, msgs: &amp;[&amp;CuMsgMetadata]) -&gt; CuResult&lt;()&gt; {\n        // This is callbacked at the end of the processing of a copper list (basically near when the CL is getting serialized to disk after a success. \n        // The metadata gives you all the timings you need to check if your robot is still behaving nominally.\n        for t in msgs.iter().enumerate() {\n            let (taskid, metadata) = t;\n            debug!(\"Task: {} -&gt; {}\", taskid, metadata);\n        }\n        Ok(())\n    }\n\n    fn process_error(&amp;self, taskid: usize, step: CuTaskState, error: &amp;CuError) -&gt; Decision {\n        // This is called back if any task reports an error at any step (start, process, ...)\n        // You can then match that taskid and compute a decision for your robot: Abort, Ignore, Shutdown (see the cu28/monitoring.rs file for semantic details. \n        Decision::Ignore\n    }\n\n    fn stop(&amp;mut self, clock: &amp;_RobotClock) -&gt; CuResult&lt;()&gt; {\n        // call when the stack is stopping\n        Ok(())\n    }\n}\n</code></pre>"},{"location":"Copper-Release-Notes/#other-notable-changes","title":"Other Notable Changes","text":""},{"location":"Copper-Release-Notes/#new-features_12","title":"New Features","text":"<ul> <li>Real-time cumulative stats for <code>CuDurations</code>. See cu29/monitoring.rs we built an histogramming feature for timings this is super useful for monitoring components. Here is the list of everything you get it is not only pretty comprehensive but it is fixed size on memory so it should be pretty swift for any real time monitoring needs or UIs.</li> </ul> <pre><code>    // on the CuDurationStatistics struct\n    pub fn min(&amp;self) -&gt; CuDuration;\n    pub fn max(&amp;self) -&gt; CuDuration;\n    pub fn mean(&amp;self) -&gt; CuDuration \n    pub fn percentile(&amp;self, percentile: f64) -&gt; CuDuration;\n    pub fn stddev(&amp;self) -&gt; CuDuration;\n    pub fn jitter_min(&amp;self) -&gt; CuDuration;\n    pub fn jitter_max(&amp;self) -&gt; CuDuration;\n    pub fn jitter_mean(&amp;self) -&gt; CuDuration;\n    pub fn jitter_stddev(&amp;self) -&gt; CuDuration;\n    pub fn jitter_percentile(&amp;self, percentile: f64) -&gt; CuDuration;\n</code></pre>"},{"location":"Copper-Release-Notes/#fixes","title":"Fixes","text":"<ul> <li>Serialization / Deserialization Bug on Value (#42). A code reformat shuffled the serialization IDs Oo. </li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_10","title":"Enhancements","text":"<ul> <li>Virtual Output for Sinks (#53):</li> <li> <p>before that there was no mean to monitor sinks (or hacks you might have seen on the incoming message). Now the stack behind the scene generates a () empty message for each sink you you get the perf number cleanly for them even if they don't output anything.</p> </li> <li> <p>Balance Bot Demo (#46):</p> </li> <li>a more complete example of a real robot demo we will bring at conferences.</li> </ul>"},{"location":"Copper-Release-Notes/#miscellaneous","title":"Miscellaneous","text":"<ul> <li>And a bunch of cleanup / doc improments.</li> </ul>"},{"location":"Copper-Release-Notes/#copper-v023-2024-09-11","title":"Copper - v0.2.3 - 2024-09-11","text":"<p>We are pleased to announce the release of Copper v0.2.3, which includes several new features, enhancements, and bug fixes. Below is a summary of the key changes in this release:</p>"},{"location":"Copper-Release-Notes/#new-features_13","title":"New Features","text":"<ul> <li>SN754410 Driver Support #40: Added a new driver for the SN754410 motor driver. This driver allows easy integration with motor control applications, providing robust support for H-bridge motor control on a wide range of systems. This driver is fully compatible with the BalanceHAT.</li> <li>ADS7883 Driver #39: Introduced a driver for the ADS7883, a 12-bit SPI ADC. This addition includes comprehensive documentation in the README to facilitate setup and integration. The ADS7883 driver is also compatible with the BalanceHAT.</li> </ul>"},{"location":"Copper-Release-Notes/#enhancements_11","title":"Enhancements","text":"<ul> <li>macOS Development Support #25: Copper can now be developed on macOS! The CI/CD pipeline has been updated to support macOS, ensuring cross-platform compatibility for all users.</li> <li>cu29_clock Enhancements #32: Added a division feature to the cu29_clock, allowing more granular time management and synchronization within the Copper runtime.</li> <li>Structured Log Index File in Debug Mode #30: Removed the requirement for an index file in debug mode within struct_log, simplifying the debugging process ie. only the config and the executable needs to be deployed for the debug build and you get a standard debug text logging. </li> <li>Logging Slabs Addition #24: The current unified logger works with big memory mapped files. Initially we thought we could rely on the mmap resize feature of the kernel api but it just doesn't work. We are reverting into building \"slabs\", ie dividing the data logger into large files. Those files can be concatenated and read or directly read from the log exporter. </li> </ul>"},{"location":"Copper-Release-Notes/#bug-fixes_10","title":"Bug Fixes","text":"<ul> <li>Compilation Feedback Adjustments #33: Moved compilation feedback from standard output to standard error to better align with conventional logging practices.</li> <li>Flush and Core Dump Fixes #29: Resolved issues where changes after a section flush could cause a core dump, improving the stability of the logging system.</li> </ul>"},{"location":"Copper-Release-Notes/#infrastructure-and-cicd_1","title":"Infrastructure and CI/CD","text":"<ul> <li>CI/CD Pipeline Enhancements #25: Added macOS support to the CI/CD pipeline, ensuring better cross-platform compatibility.</li> <li>Removed 'Continue on Error' in CI/CD #36: Addressed a CI/CD issue where the pipeline was green while failing Oo.</li> </ul>"},{"location":"Copper-Release-Notes/#refactoring-and-internal-changes","title":"Refactoring and Internal Changes","text":"<ul> <li> <p>Unified Logger Refactor #27: Refactored the Unified Logger to introduce a dual-slab logging system, improving performance and eliminating the need for remap/resize operations.</p> </li> <li> <p>Runtime Loop Enhancements #21: Added a new notion of loops in the runtime plan, setting the stage for more flexible and powerful runtime behavior.</p> </li> </ul> <p>If you're looking to build your own interfacing with the SN754410 or ADS7883 drivers, we share detailed connectivity schematics with a Raspberry Pi to help you get started.</p> <p>We recommend updating to this latest version to take advantage of these improvements. As always, please refer to the updated documentation and release notes for detailed information on how to integrate these changes into your projects.</p> <p>If you have any questions or need further assistance, feel free to reach out to our support team.</p>"},{"location":"Copper-Runtime-Overview/","title":"Copper Runtime Overview","text":"<p>Copper is a deterministic, data-oriented runtime for robotics. You describe your system declaratively, Copper compiles the schedule, and every run is bit-for-bit reproducible.</p>"},{"location":"Copper-Runtime-Overview/#task-graph","title":"Task Graph","text":"<p>The task graph defines your system topology, inter-task communication, and message types. It is expressed in RON and drives how Copper builds the runtime.</p> <p>See Copper RON Configuration Reference for the full schema.</p>"},{"location":"Copper-Runtime-Overview/#runtime-generator","title":"Runtime Generator","text":"<p>Copper creates an execution plan from the task graph metadata. It preallocates a \"Copper List\" so execution stays cache-friendly and deterministic.</p>"},{"location":"Copper-Runtime-Overview/#zero-copy-data-logging","title":"Zero-Copy Data Logging","text":"<p>Messages between tasks are recorded without copying data. Logs can be replayed exactly, making debugging and certification practical.</p>"},{"location":"Copper-Runtime-Overview/#fast-structured-logging","title":"Fast Structured Logging","text":"<p>Structured log strings are interned and indexed at compile time. Runtime logging avoids string construction overhead and keeps hot paths fast.</p>"},{"location":"Copper-Runtime-Overview/#sdk-capabilities","title":"SDK Capabilities","text":"<ul> <li>Task interface and lifecycle traits for implementing new algorithms, sensors, and actuators.</li> <li>Compile-time runtime generation with deterministic scheduling.</li> <li>Log readers that export Copper logs using Rust Serde formats.</li> <li>Structured log reader for efficient debug and telemetry data.</li> <li>A growing set of components and drivers (see Available Components).</li> <li>Deterministic log replay and resimulation.</li> <li>A minimal simulation environment for hardware-free testing.</li> </ul>"},{"location":"CuBridge-Concept/","title":"Copper Bridge concept","text":"<p>## What bridges are (and why)</p> <ul> <li>A bridge lets Copper talk to an external transport (serial, CAN, DDS, middleware, ESC bus\u2026) through multiple logical channels that share the same connection.</li> <li>Each channel has a typed payload and a direction: Tx (Copper \u2192 outside) or Rx (outside \u2192 Copper). Types are enforced at compile time, so you don\u2019t accidentally mix payloads.</li> <li>Missions can override transport routes/topics/paths per channel without changing code (e.g., switch topics per robot or per mission).</li> </ul>"},{"location":"CuBridge-Concept/#defining-channels-and-the-bridge","title":"Defining channels and the bridge","text":"<ul> <li>Declare Tx/Rx channels with the tx_channels! / rx_channels! macros. You give each channel:<ul> <li>an ID (used in the mission file to connect),</li> <li>a payload type,</li> <li>an optional default route/topic/path (used if the mission doesn\u2019t override it).</li> </ul> </li> <li>Implement CuBridge:<ul> <li>Specify which channel sets are Tx/Rx.</li> <li>new receives bridge-level config plus per-channel configs (including any mission route overrides) so you can set baud, QoS, topic names, etc.</li> <li>receive fills a CuMsg for the selected Rx channel; send consumes a CuMsg for a Tx channel.</li> <li>Optional hooks: start (before first I/O), preprocess/postprocess per iteration, stop at shutdown. Use them to open sockets/ports, prefill buffers, flush, or close.</li> </ul> </li> </ul>"},{"location":"CuBridge-Concept/#wiring-in-a-mission","title":"Wiring in a mission","text":"<ul> <li>In the mission config, add a bridges entry with an ID, the Rust type, optional config, and the list of channels (Rx/Tx). You can override any channel\u2019s default route here.</li> <li>Connect graph edges by using bridge_id/channel_id in cnx. Direction is enforced: Rx can only be a source endpoint; Tx can only be a destination endpoint.</li> </ul> <p>## Scheduling: when bridge methods run</p> <ul> <li>Lifecycle:<ul> <li>start runs with task starts; stop runs with task stops.</li> <li>preprocess/postprocess bracket each iteration like tasks do.</li> </ul> </li> <li>Per-iteration order:<ul> <li>Rx channels behave like sources: receive is called before any tasks that consume that channel\u2019s output.</li> <li>Tx channels behave like sinks: send is called after the upstream task(s) that feed that channel have run.</li> <li>If a bridge has both Rx and Tx used in the same dataflow, the runtime linearizes them: Rx \u2192 tasks \u2192 Tx on that bridge, preserving dependencies.</li> </ul> </li> <li>Unconnected channels:<ul> <li>If an Rx channel is never connected, its receive is never called.</li> <li>If a Tx channel is never connected, its send is never called.</li> <li>Idle channels still see start/stop (the bridge instance exists), so keep those cheap.</li> </ul> </li> </ul>"},{"location":"CuBridge-Concept/#routes-and-overrides","title":"Routes and overrides","text":"<ul> <li>Default routes set in macros are just suggestions. Missions can override per channel. At runtime, use the provided BridgeChannelConfig to pick \u201ceffective\u201d routes; it already merges     defaults and overrides.</li> <li>Config blocks per channel are also passed in, so you can tweak QoS, IDs, baud rates, etc., without recompiling.</li> </ul>"},{"location":"CuBridge-Concept/#when-to-use-a-bridge-vs-plain-sourcessinks","title":"When to use a bridge vs. plain sources/sinks","text":"<ul> <li>Use a bridge when multiple channels share the same transport or need shared state (one serial port, one CAN bus, one Zenoh session, multiple ESCs on one bus).</li> <li>Use plain CuSrcTask/CuSinkTask when each endpoint is independent hardware or logic and doesn\u2019t need shared transport management.</li> </ul>"},{"location":"CuBridge-Concept/#practical-patterns","title":"Practical patterns","text":"<ul> <li>Single transport, many outputs: e.g., one ESC bus bridge with four Tx channels, each an ESC command; four Rx channels for telemetry. Tasks feed/consume those channels; ports/QoS live in bridge config.</li> <li>Telemetry uplink/downlink: one middleware bridge with Rx for inbound commands and Tx for outbound telemetry; routes are swapped per mission (sim vs. robot).</li> </ul>"},{"location":"FAQ/","title":"FAQ","text":""},{"location":"FAQ/#how-is-copper-better-or-different-from-the-ros-robot-operating-system","title":"How is Copper better or different from the ROS (Robot Operating System)?","text":"<p>Copper is a user-friendly runtime engine written in Rust. It manages task execution, data flow, logging, and deterministic replay.</p> <p>ROS is an open-source set of software libraries and tools primarily written for C++ and Python.</p>"},{"location":"FAQ/#is-it-that-more-performant","title":"Is it that more performant?","text":"<p>In the example directory, there are two equivalent applications: one written in C++ for ROS and a port in Rust with Copper.</p> <pre><code>examples/cu_caterpillar\nexamples/ros_caterpillar\n</code></pre> <p>You can run them on a desktop or with GPIOs on a Raspberry Pi. You should see an order-of-magnitude difference in performance.</p> <p>Copper is designed for performance first, using a data-oriented approach to minimize latency and maximize throughput.</p>"},{"location":"FAQ/#what-about-safety-considerations","title":"What about safety considerations?","text":"<p>Copper is fully deterministic, which means you can replay captured data and get the same results you observed on the robot.</p> <p>Copper is written in Rust, so it is memory safe and thread safe by design.</p>"},{"location":"Modular-Configuration/","title":"Modular Configuration","text":"<p>Copper's configuration system supports modular composition through file includes and parameter substitution. This document explains how to use these features to create reusable and maintainable configuration files.</p>"},{"location":"Modular-Configuration/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Including Configuration Files</li> <li>Parameter Substitution</li> <li>Merging Rules</li> <li>Nested Includes</li> <li>Common Use Cases</li> <li>Best Practices</li> <li>Limitations</li> <li>Examples</li> </ul>"},{"location":"Modular-Configuration/#overview","title":"Overview","text":"<p>As robot configurations grow more complex, it becomes important to organize and reuse configuration components. Copper's modular configuration system allows you to:</p> <ul> <li>Split large configurations into manageable, reusable chunks</li> <li>Create configuration variations without duplicating the entire RON file</li> <li>Parameterize configurations to handle different deployments and environments</li> </ul>"},{"location":"Modular-Configuration/#including-configuration-files","title":"Including Configuration Files","text":"<p>You can include other RON configuration files using the <code>includes</code> section at the top level of your configuration:</p> <pre><code>(\n    tasks: [\n        // Your main configuration tasks...\n    ],\n    cnx: [\n        // Your main configuration connections...\n    ],\n    includes: [\n        (\n            path: \"path/to/included_config.ron\",\n            params: {}, // Optional parameter substitutions\n        ),\n    ],\n)\n</code></pre> <p>The <code>path</code> is relative to the location of the main configuration file. When Copper processes the configuration, it will:</p> <ol> <li>Read the main configuration file</li> <li>Process each included file</li> <li>Merge the included configurations according to the merging rules</li> </ol>"},{"location":"Modular-Configuration/#parameter-substitution","title":"Parameter Substitution","text":"<p>You can parameterize your included configurations using template variables that will be replaced at runtime:</p> <pre><code>// included_config.ron\n(\n    tasks: [\n        (\n            id: \"task_{{instance_id}}\", // Will be replaced with the provided instance_id\n            type: \"tasks::Task{{instance_id}}\",\n            config: {\n                \"param_value\": {{param_value}}, // Will be replaced with the provided param_value\n            },\n        ),\n    ],\n    cnx: [],\n)\n</code></pre> <p>Then in your main configuration:</p> <pre><code>(\n    tasks: [],\n    cnx: [],\n    includes: [\n        (\n            path: \"included_config.ron\",\n            params: {\n                \"instance_id\": \"42\", // Replaces {{instance_id}} with \"42\"\n                \"param_value\": 100,  // Replaces {{param_value}} with 100\n            },\n        ),\n    ],\n)\n</code></pre>"},{"location":"Modular-Configuration/#parameter-format","title":"Parameter Format","text":"<p>Parameters use the <code>{{parameter_name}}</code> format and can appear in:</p> <ul> <li>Task IDs</li> <li>Task types</li> <li>Connection strings</li> <li>Configuration values (both keys and values)</li> </ul> <p>Parameter values can be:</p> <ul> <li>Strings</li> <li>Numbers (integers, floats)</li> <li>Booleans</li> <li>Null values</li> <li>Arrays</li> <li>Maps</li> </ul>"},{"location":"Modular-Configuration/#merging-rules","title":"Merging Rules","text":"<p>When merging included configurations with the main configuration, Copper follows these rules:</p> <ol> <li>Tasks:</li> <li>Tasks from included files are added to the main configuration</li> <li>If a task with the same ID already exists in the main configuration, the main configuration's task takes precedence</li> <li> <p>Tasks from later includes override tasks from earlier includes with the same ID</p> </li> <li> <p>Connections:</p> </li> <li>Connections from included files are added to the main configuration</li> <li>If a connection with the same source and destination already exists, the main configuration's connection takes precedence</li> <li> <p>Connections from later includes override connections from earlier includes with the same source and destination</p> </li> <li> <p>Monitor and Logging:</p> </li> <li>If a monitor or logging configuration is defined in the main file, it takes precedence over included configurations</li> <li>If the main file doesn't define a monitor or logging configuration, the first included file with such configurations is used</li> </ol>"},{"location":"Modular-Configuration/#nested-includes","title":"Nested Includes","text":"<p>Configuration files can include other configuration files, allowing for hierarchical composition:</p> <pre><code>// main.ron\n(\n    tasks: [],\n    cnx: [],\n    includes: [\n        (\n            path: \"middle.ron\",\n            params: {},\n        ),\n    ],\n)\n\n// middle.ron\n(\n    tasks: [\n        (\n            id: \"middle_task\",\n            type: \"tasks::MiddleTask\",\n        ),\n    ],\n    cnx: [],\n    includes: [\n        (\n            path: \"nested.ron\",\n            params: {},\n        ),\n    ],\n)\n\n// nested.ron\n(\n    tasks: [\n        (\n            id: \"nested_task\",\n            type: \"tasks::NestedTask\",\n        ),\n    ],\n    cnx: [],\n)\n</code></pre> <p>When Copper processes the configuration: 1. It will start with <code>main.ron</code> 2. It will include <code>middle.ron</code> (which includes its own task) 3. It will then include <code>nested.ron</code> (which includes its own task) 4. The final configuration will contain tasks from all three files</p>"},{"location":"Modular-Configuration/#nested-references","title":"Nested References","text":"<p>Configuration files can include other configuration files, creating a hierarchy of configurations. Be careful when creating deeply nested configurations to avoid unintended recursion or excessive nesting, as this may impact performance.</p>"},{"location":"Modular-Configuration/#common-use-cases","title":"Common Use Cases","text":""},{"location":"Modular-Configuration/#1-sharing-common-components","title":"1. Sharing Common Components","text":"<p>Create a base configuration with common components:</p> <pre><code>// common_sensors.ron\n(\n    tasks: [\n        (\n            id: \"imu\",\n            type: \"sensors::IMU\",\n        ),\n        (\n            id: \"gps\",\n            type: \"sensors::GPS\",\n        ),\n    ],\n    cnx: [],\n)\n</code></pre> <p>Include it in multiple robot configurations:</p> <pre><code>// robot_config.ron\n(\n    tasks: [\n        // Robot-specific tasks\n    ],\n    cnx: [\n        // Robot-specific connections\n    ],\n    includes: [\n        (\n            path: \"common_sensors.ron\",\n            params: {},\n        ),\n    ],\n)\n</code></pre>"},{"location":"Modular-Configuration/#2-environment-specific-configurations","title":"2. Environment-Specific Configurations","text":"<p>Create configurations for different deployment environments:</p> <pre><code>// dev_environment.ron\n(\n    tasks: [\n        (\n            id: \"camera\",\n            type: \"sensors::MockCamera\", // Mock camera for development\n        ),\n    ],\n    cnx: [],\n)\n\n// prod_environment.ron\n(\n    tasks: [\n        (\n            id: \"camera\",\n            type: \"sensors::RealCamera\", // Real camera for production\n        ),\n    ],\n    cnx: [],\n)\n</code></pre> <p>Choose the appropriate environment in your main configuration:</p> <pre><code>// main_config.ron\n(\n    tasks: [\n        // Common tasks\n    ],\n    cnx: [\n        // Common connections\n    ],\n    includes: [\n        (\n            path: \"dev_environment.ron\", // Change to prod_environment.ron for production\n            params: {},\n        ),\n    ],\n)\n</code></pre>"},{"location":"Modular-Configuration/#3-reusing-task-templates-with-different-parameters","title":"3. Reusing Task Templates with Different Parameters","text":"<p>Create a parameterized task template:</p> <pre><code>// motor_template.ron\n(\n    tasks: [\n        (\n            id: \"motor_{{motor_id}}\",\n            type: \"actuators::Motor\",\n            config: {\n                \"pin\": {{pin}},\n                \"direction\": \"{{direction}}\",\n            },\n        ),\n    ],\n    cnx: [],\n)\n</code></pre> <p>Include it multiple times with different parameters:</p> <pre><code>// robot_config.ron\n(\n    tasks: [],\n    cnx: [],\n    includes: [\n        (\n            path: \"motor_template.ron\",\n            params: {\n                \"motor_id\": \"left\",\n                \"pin\": 4,\n                \"direction\": \"forward\",\n            },\n        ),\n        (\n            path: \"motor_template.ron\",\n            params: {\n                \"motor_id\": \"right\",\n                \"pin\": 5,\n                \"direction\": \"reverse\",\n            },\n        ),\n    ],\n)\n</code></pre> <p>This will generate two motor tasks with different IDs, pins, and directions.</p>"},{"location":"Modular-Configuration/#best-practices","title":"Best Practices","text":"<ol> <li>Organize Configuration Files:</li> <li>Keep related components together in the same include file</li> <li>Use descriptive filenames that indicate the purpose of the configuration</li> <li> <p>Create a directory structure that reflects the organization of your robot</p> </li> <li> <p>Parameter Naming:</p> </li> <li>Use clear, descriptive parameter names</li> <li>Follow a consistent naming convention</li> <li> <p>Document parameters with comments in the configuration files</p> </li> <li> <p>Handling Variations:</p> </li> <li>Create small, focused configuration files for specific components</li> <li>Use parameters for values that might change between deployments</li> <li> <p>Create environment-specific configuration files for different contexts (e.g., development, testing, production)</p> </li> <li> <p>Testing:</p> </li> <li>Test your configuration with different parameter values</li> <li>Verify that the merged configuration matches your expectations</li> <li>Consider creating a test that validates your configuration files</li> </ol>"},{"location":"Modular-Configuration/#limitations","title":"Limitations","text":"<ol> <li> <p>Order Dependency: The order of includes matters, as later includes can override earlier ones.</p> </li> <li> <p>Parameter Scope: Parameters are only applied to the specific include where they're defined. If you want to use the same parameter across multiple includes, you need to specify it for each include.</p> </li> <li> <p>Error Handling: If an included file cannot be found, Copper will return an error. Make sure all included files are available at the specified paths.</p> </li> </ol>"},{"location":"Modular-Configuration/#examples","title":"Examples","text":""},{"location":"Project-Templates/","title":"Project Templates","text":"<p>Copper ships templates to bootstrap new projects quickly. Use them to get a runnable task graph, logging setup, and basic app layout in minutes.</p>"},{"location":"Project-Templates/#prerequisites","title":"Prerequisites","text":"<ul> <li>Rust toolchain (rustup)</li> <li><code>cargo-generate</code>: <code>cargo install cargo-generate</code></li> <li>Optional: <code>just</code> for helper commands (see Task Automation with just)</li> </ul>"},{"location":"Project-Templates/#choose-a-template","title":"Choose a template","text":"Template Use it for <code>cu_project</code> Single-crate project for quick experiments. <code>cu_full</code> Multi-crate workspace with <code>apps/</code> and <code>components/</code>."},{"location":"Project-Templates/#generate-from-a-local-checkout","title":"Generate from a local checkout","text":"<ol> <li>Clone the repo and move into the templates directory:</li> </ol> <pre><code>git clone https://github.com/copper-project/copper-rs\ncd copper-rs/templates\n</code></pre> <ol> <li>Generate a workspace or single-crate project:</li> </ol> <pre><code># Workspace template\ncargo +stable generate \\\n    --path cu_full \\\n    --name my_workspace \\\n    --destination . \\\n    --define copper_source=local \\\n    --define copper_root_path=../..\n\n# Single-crate template\ncargo +stable generate \\\n    --path cu_project \\\n    --name my_project \\\n    --destination . \\\n    --define copper_source=local \\\n    --define copper_root_path=../..\n</code></pre> <ol> <li>Move into the generated project and run it:</li> </ol> <pre><code>cd ../my_workspace\ncargo run -p my-workspace\n\n# or for the single-crate project\ncd ../my_project\ncargo run\n</code></pre>"},{"location":"Project-Templates/#template-variables","title":"Template variables","text":"<ul> <li><code>copper_source=local</code>: use the local <code>copper-rs</code> checkout.</li> <li><code>copper_root_path=../..</code>: path from the generated project back to the Copper repo root. Adjust if your layout differs.</li> </ul> <p>If you omit <code>--name</code> or <code>--define</code>, <code>cargo-generate</code> will prompt you interactively.</p>"},{"location":"Project-Templates/#shortcuts","title":"Shortcuts","text":"<ul> <li><code>cargo cunew</code> is an alias for <code>cargo generate</code>.</li> <li>The <code>templates/justfile</code> includes <code>just gen-workspace</code> and <code>just gen-project</code> for standard names.</li> </ul>"},{"location":"Resources/","title":"Resources","text":"<p>Resources are typed runtime objects that tasks and bridges can access without going through the message graph. They are provided by resource bundles and wired by name in <code>copperconfig.ron</code>. Today we primarily use them to expose hardware as a HAL for embedded systems, but the same mechanism works well for \"engine services\" like memory arenas, thread pools, or reserved subsystems dedicated to specific tasks or bridges.</p>"},{"location":"Resources/#concept","title":"Concept","text":"<ul> <li>Bundles own the concrete resources and register them into the runtime at startup.</li> <li>Tasks and bridges declare the bindings they need by name, and the config maps those names to <code>bundle_id.resource_id</code>.</li> <li>Resources can be exclusive (owned by one task) or shared (borrowed or <code>Arc</code>).</li> <li>Bundles can be mission-scoped so the same task code can run against different hardware per mission.</li> </ul>"},{"location":"Resources/#using-resources-most-users","title":"Using resources (most users)","text":"<p>1) Declare the bundles you want in the config. 2) Bind task and bridge resource names to concrete <code>bundle.resource</code> paths. 3) Use the bindings in your task/bridge constructor.</p> <p>Example <code>copperconfig.ron</code> snippet:</p> <pre><code>(\n    resources: [\n        (id: \"board\", provider: \"board_crate::BoardBundle\"),\n    ],\n    tasks: [\n        (\n            id: \"telemetry\",\n            type: \"app::TelemetryTask\",\n            resources: { bus: \"board.telemetry_bus\" },\n        ),\n    ],\n    bridges: [\n        (\n            id: \"crsf\",\n            type: \"cu_crsf::CrsfBridge&lt;SerialPort, SerialError&gt;\",\n            resources: { serial: \"board.uart0\" },\n        ),\n    ],\n)\n</code></pre> <p>The bundle provider defines the resource ids (like <code>uart0</code> or <code>telemetry_bus</code>), so check the board/component crate docs or the bundle source for the list.</p> <p>In code, either implement <code>ResourceBindings</code> manually or use the <code>resources!</code> macro for a compact declaration:</p> <pre><code>use cu29::prelude::*;\n\nresources!({\n    bus =&gt; Borrowed&lt;TelemetryBus&gt;,\n});\n\nimpl CuTask for TelemetryTask {\n    type Resources&lt;'r&gt; = Resources;\n    // ...\n    fn new_with(_cfg: Option&lt;&amp;ComponentConfig&gt;, resources: Self::Resources&lt;'_&gt;) -&gt; CuResult&lt;Self&gt; {\n        Ok(Self { bus: resources.bus.0 })\n    }\n}\n</code></pre> <p>Notes:</p> <ul> <li><code>Owned&lt;T&gt;</code> means the task takes exclusive ownership (common for peripherals).</li> <li><code>Borrowed&lt;T&gt;</code> (macro form) or shared <code>Arc&lt;T&gt;</code> means the resource can be reused by multiple consumers.</li> <li>Use <code>missions: [...]</code> on resource entries to scope bundles to specific missions.</li> <li>See Copper Configuration file Reference for the full schema.</li> </ul>"},{"location":"Resources/#creating-or-adding-resources","title":"Creating or adding resources","text":"<p>1) Define the resource types you want to expose (drivers, pools, arenas, handles). 2) Declare bundle IDs with <code>bundle_resources!</code>. 3) Implement <code>ResourceBundle</code> to construct resources and register them in the <code>ResourceManager</code>. 4) Point your config <code>resources</code> entries at the bundle provider path.</p> <p>Minimal bundle example:</p> <pre><code>use cu29::resource::{ResourceBundle, ResourceManager};\nuse cu29::{CuResult, bundle_resources};\nuse std::sync::Arc;\n\npub struct BoardBundle;\nbundle_resources!(BoardBundle: Uart0, TelemetryBus);\n\nimpl ResourceBundle for BoardBundle {\n    fn build(\n        bundle: cu29::resource::BundleContext&lt;Self&gt;,\n        _config: Option&lt;&amp;cu29::config::ComponentConfig&gt;,\n        manager: &amp;mut ResourceManager,\n    ) -&gt; CuResult&lt;()&gt; {\n        let uart_key = bundle.key(BoardBundleId::Uart0);\n        let bus_key = bundle.key(BoardBundleId::TelemetryBus);\n        manager.add_owned(uart_key, MyUart::new())?;\n        manager.add_shared(bus_key, Arc::new(MyBus::new()))?;\n        Ok(())\n    }\n}\n</code></pre> <p>Embedded note: if you need to build resources from handles created in <code>main</code> (for example, HAL peripherals), use <code>ResourceManager::add_bundle_prebuilt</code> to insert them during runtime setup.</p>"},{"location":"Resources/#examples","title":"Examples","text":"<ul> <li><code>https://github.com/copper-project/copper-rs/tree/master/examples/cu_resources_test</code> - End-to-end example with owned vs shared resources, mission-specific bundles, and bridge bindings.</li> <li><code>https://github.com/copper-project/copper-rs/tree/master/examples/cu_elrs_bdshot_demo</code> - Embedded demo that wires a board resource bundle into tasks and bridges.</li> <li><code>https://github.com/copper-project/copper-rs/tree/master/examples/cu_flight_controller</code> - Uses the <code>resources!</code> macro to bind board peripherals to tasks.</li> </ul>"},{"location":"Roadmap/","title":"Roadmap","text":"<p>This page tracks recently delivered features and items we plan to build next.</p>"},{"location":"Roadmap/#shipped","title":"Shipped","text":"<ul> <li>[x] Buffer pools for zero-copy large inter-task transfers.</li> <li>[x] Missions to switch between multiple DAGs in a single configuration file.</li> <li>[x] Modular configuration with includes and parameterization.</li> <li>[x] ROS2/DDS interfacing with source and sink bridges.</li> <li>[x] Microcontroller support via <code>no_std</code> for bare-metal targets.</li> </ul>"},{"location":"Roadmap/#planned","title":"Planned","text":"<ul> <li>[ ] Log compression and selection to reduce log size and filter data.</li> <li>[ ] Parallel Copper Lists to improve throughput.</li> <li>[ ] Extensible scheduling hints for compile-time optimization.</li> <li>[ ] Swarm support using Zenoh (sink done, needs source).</li> <li>[ ] MCAP support for Foxglove and ROS logging interoperability.</li> </ul>"},{"location":"SDK-Features/","title":"SDK Features","text":"<p>Copper ships with a set of runtime and tooling capabilities designed for deterministic robotics applications.</p>"},{"location":"SDK-Features/#core-features","title":"Core features","text":"<ol> <li>Task interface and lifecycle traits for implementing algorithms, sensors, and actuators.</li> <li>Compile-time runtime generation for deterministic scheduling.</li> <li>Log reader for exporting logs to formats supported by Rust Serde.</li> <li>Structured log reader with compile-time string interning.</li> <li>Component ecosystem with drivers, algorithms, and standard interfaces.</li> <li>Deterministic log replay and resimulation.</li> <li>Simulation support for testing before hardware is ready.</li> </ol> <p>See Available Components for the current component list.</p>"},{"location":"Supported-Platforms/","title":"Supported Platforms","text":"<p>Copper can be deployed on:</p> Linux x86_64armv7aarch64riscv64 macOS arm64 Windows x86_64 Android arm64 <p>But can ALSO run baremetal on microcontrollers. Here it is on our reference platform based on the RP2350, see  Copper baremetal development if you are interested to deploy Copper as an actual Operating System.</p> <p></p>"},{"location":"Task-Automation-with-Just/","title":"Task Automation with just","text":"<p>Copper uses <code>just</code> to keep common tasks repeatable. <code>just</code> looks for the nearest <code>justfile</code>, so run it from the project directory you want to work in.</p>"},{"location":"Task-Automation-with-Just/#install","title":"Install","text":"<p>Follow the installation instructions in the <code>just</code> README for your platform.</p>"},{"location":"Task-Automation-with-Just/#discover-commands","title":"Discover commands","text":"<pre><code>just -l\n</code></pre>"},{"location":"Task-Automation-with-Just/#where-to-run-just","title":"Where to run <code>just</code>","text":"<ul> <li>Repo root: CI and lint helpers.</li> <li>Examples:</li> <li><code>examples/cu_caterpillar</code></li> <li><code>examples/ros_caterpillar</code></li> <li><code>examples/ros_zenoh_caterpillar</code></li> <li><code>examples/cu_rp_balancebot</code></li> <li><code>examples/cu_elrs_bdshot_demo</code></li> <li><code>examples/cu_standalone_structlog</code></li> <li>Components:</li> <li><code>components/sources/cu_ads7883</code></li> <li><code>components/sinks/cu_rp_sn754410</code></li> <li><code>components/payloads/cu_ros_payloads</code></li> <li>Support utilities:</li> <li><code>support</code> (general deploy/sdcard)</li> <li><code>support/docker</code> (build/run dev containers)</li> </ul>"},{"location":"Task-Lifecycle/","title":"Copper Tasks lifecycle overview","text":""},{"location":"Task-Lifecycle/#copper-task-lifecycle","title":"Copper: Task Lifecycle","text":""},{"location":"Task-Lifecycle/#here-is-a-quick-illustration-of-a-task-lifecycle","title":"Here is a quick illustration of a task lifecycle","text":"<p>The framework is designed to give as many chances as possible for the tasks to do its heavy lifting out of the critical path.</p> <ul> <li>The time critical part will try to be scheduled as back to back as possible between tasks on the same thread (low latency / low jitter)</li> <li>The best effort part will try be scheduled by packing them to minimize the interference with the critical path (high throughput / high jitter).</li> </ul> <p>In the critical loop, no allocation should occur, messages are pre-allocated and reused.</p> <p>Note on freeze / thaw: A task internal state can be serialized to give the opportunity for the framework to \"snapshot\" the system, it would be at a low rate (ie. ~ a second).  You can think of it a little bit as a \"key frame\" in a video. It is useful at replay to be able to jump into a state without having to replay all the previous messages.</p>"}]}